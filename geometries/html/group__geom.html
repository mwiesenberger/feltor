<!-- HTML header for doxygen 1.9.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Extension: Geometries: 3.1 Creating a flux function</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
    <!-- ... doxygen-awesome Fragment copy ... -->
    <script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
    <script type="text/javascript">
        DoxygenAwesomeFragmentCopyButton.init()
    </script>
    <!-- ... End doxygen-awesome Fragment copy ... -->
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-fragment-copy-button.js" rel="stylesheet" type="text/css"/>
<link href="menubar.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Make a nice link to github (copied from doxygen-awesome/doxygen-custom/header.html-->
<!-- https://tholman.com/github-corners/ -->
<a href="https://github.com/feltor-dev/feltor" class="github-corner" title="View source on GitHub" target="_blank">
    <svg viewBox="0 0 250 250" width="80" height="80" style="position: absolute; top: 0; border: 0; right: 0; z-index: 99;" aria-hidden="true">
    <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
<!-- End Make a nice link to github -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
    <!--My own title area-->
  <ul class="menubar">
      <!-- <li><a href="../../../index.html">/</a><li>-->
    <li><a href="../../dg/html/topics.html">dg</a></li>
    <li><a href="../../geometries/html/topics.html">dg::geo</a></li>
    <li><a href="../../file/html/topics.html">dg::file</a></li>
    <li><a href="../../exblas/html/namespacedg_1_1exblas.html">dg::exblas</a></li>
    <li><a href="../../matrix/html/topics.html">dg::mat</a></li>
  </ul>
  <!--End My own title area-->
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Extension: Geometries
   </div>
   <div id="projectbrief">#include &quot;dg/geometries/geometries.h&quot;</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__geom.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Topics</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">3.1 Creating a flux function<div class="ingroups"><a class="el" href="group__geom__functors.html">3. New functors surrounding the magnetic field geometry</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>\(\psi_p(R,Z)\) <a class="el" href="#ga936269e34ec47da9bc44346ab9e1888b" title="Create a Magnetic field based on the given parameters.">dg::geo::createMagneticField</a>  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for 3.1 Creating a flux function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__geom.svg" width="659" height="414"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="groups" name="groups"></a>
Topics</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__solovev.html">The solovev expansion</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__polynomial.html">The polynomial expansion</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__taylor.html">The Taylor state expansion</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__guenter.html">The Guenter expansion</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__toroidal.html">The Purely Toroidal expansion</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__circular.html">The Circular expansion</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mod.html">Modification of any expansion</a></td></tr>
<tr class="memdesc:group__mod"><td class="mdescLeft">&#160;</td><td class="mdescRight">\( H(\psi_p(R,Z))\), <a class="el" href="group__wall.html#ga55fb3ee6e85380ea9c8f040badb80bb8" title="Modify Magnetic Field and create wall above or below certain Psi values according to given parameters...">dg::geo::createModifiedField</a> <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__wall.html">Wall and Sheath</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga936269e34ec47da9bc44346ab9e1888b" id="r_ga936269e34ec47da9bc44346ab9e1888b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdg_1_1geo_1_1_tokamak_magnetic_field.html">TokamakMagneticField</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga936269e34ec47da9bc44346ab9e1888b">dg::geo::createMagneticField</a> (dg::file::WrappedJsonValue gs)</td></tr>
<tr class="memdesc:ga936269e34ec47da9bc44346ab9e1888b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a Magnetic field based on the given parameters.  <br /></td></tr>
<tr class="separator:ga936269e34ec47da9bc44346ab9e1888b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>\(\psi_p(R,Z)\) <a class="el" href="#ga936269e34ec47da9bc44346ab9e1888b" title="Create a Magnetic field based on the given parameters.">dg::geo::createMagneticField</a> </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga936269e34ec47da9bc44346ab9e1888b" name="ga936269e34ec47da9bc44346ab9e1888b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga936269e34ec47da9bc44346ab9e1888b">&#9670;&#160;</a></span>createMagneticField()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdg_1_1geo_1_1_tokamak_magnetic_field.html">TokamakMagneticField</a> dg::geo::createMagneticField </td>
          <td>(</td>
          <td class="paramtype">dg::file::WrappedJsonValue</td>          <td class="paramname"><span class="paramname"><em>gs</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a Magnetic field based on the given parameters. </p>
<p>This function abstracts the Magnetic field generation. It reads an input Json file that tells this function via the "equilibrium" parameter which field to generate and which parameters to expect in the file. See a list of possible combinations in the following  </p>
<div class="fragment"><div class="line"><span class="comment">// Solovev (and Taylor) geometry parameters</span></div>
<div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;equilibrium&quot;</span>: <span class="stringliteral">&quot;solovev&quot;</span>,</div>
<div class="line">    <span class="comment">// &quot;equilibrium&quot; : &quot;taylor&quot;,</span></div>
<div class="line">    <span class="stringliteral">&quot;A&quot;</span>: 0,</div>
<div class="line">    <span class="stringliteral">&quot;R_0&quot;</span>: 213.36,</div>
<div class="line">    <span class="stringliteral">&quot;PP&quot;</span>: 1,</div>
<div class="line">    <span class="stringliteral">&quot;PI&quot;</span>: 1,</div>
<div class="line">    <span class="stringliteral">&quot;c&quot;</span>:[</div>
<div class="line">        0.072597888572520090,</div>
<div class="line">        -0.14926096478076946,</div>
<div class="line">        <span class="comment">// ... 12 coefficients in total</span></div>
<div class="line">    ],</div>
<div class="line">    <span class="stringliteral">&quot;description&quot;</span> : <span class="stringliteral">&quot;standardX&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;inverseaspectratio&quot;</span>: 0.3211009174311926,</div>
<div class="line">    <span class="stringliteral">&quot;triangularity&quot;</span>: 0.3,</div>
<div class="line">    <span class="stringliteral">&quot;elongation&quot;</span>: 1.44</div>
<div class="line">}</div>
</div><!-- fragment -->     <div class="fragment"><div class="line"><span class="comment">// Polynomial geometry parameters</span></div>
<div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;equilibrium&quot;</span> : <span class="stringliteral">&quot;polynomial&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;M&quot;</span> : 8,</div>
<div class="line">    <span class="stringliteral">&quot;N&quot;</span> : 8,</div>
<div class="line">    <span class="stringliteral">&quot;PI&quot;</span> : -1.0,</div>
<div class="line">    <span class="stringliteral">&quot;PP&quot;</span> : -1.0,</div>
<div class="line">    <span class="stringliteral">&quot;R_0&quot;</span> : 906.38,</div>
<div class="line">    <span class="stringliteral">&quot;c&quot;</span> :</div>
<div class="line">    [</div>
<div class="line">        -0.96689843290517163,</div>
<div class="line">        3.0863312163153722,</div>
<div class="line">        <span class="comment">// ... M*N coefficients in total</span></div>
<div class="line">    ],</div>
<div class="line">    <span class="stringliteral">&quot;description&quot;</span> : <span class="stringliteral">&quot;standardX&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;elongation&quot;</span> : 1.5,</div>
<div class="line">    <span class="stringliteral">&quot;inverseaspectratio&quot;</span> : 0.27593818984547458,</div>
<div class="line">    <span class="stringliteral">&quot;triangularity&quot;</span> : 0.40000000000000002</div>
<div class="line">}</div>
</div><!-- fragment -->   <div class="fragment"><div class="line"><span class="comment">// Purely toroidal magnetic field</span></div>
<div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;equilibrium&quot;</span> : <span class="stringliteral">&quot;toroidal&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;R_0&quot;</span> : 10</div>
<div class="line">}</div>
<div class="line"><span class="comment">// Automatically chosen:</span></div>
<div class="line"><span class="comment">// description : &quot;none&quot;,</span></div>
<div class="line"><span class="comment">// a : 1.0,</span></div>
<div class="line"><span class="comment">// elongation : 1.0,</span></div>
<div class="line"><span class="comment">// triangularity : 0.0</span></div>
</div><!-- fragment --> <div class="fragment"><div class="line"><span class="comment">// Circular/ellipsoid flux surfaces</span></div>
<div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;equilibrium&quot;</span> : <span class="stringliteral">&quot;circular&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;I_0&quot;</span> : 10,</div>
<div class="line">    <span class="stringliteral">&quot;R_0&quot;</span> : 3,</div>
<div class="line">    <span class="stringliteral">&quot;a&quot;</span> : 1.0,</div>
<div class="line">    <span class="stringliteral">&quot;b&quot;</span> : 1.0</div>
<div class="line">}</div>
<div class="line"><span class="comment">// Automatically chosen:</span></div>
<div class="line"><span class="comment">// description : &quot;standardO&quot;,</span></div>
<div class="line"><span class="comment">// elongation : 1.0,</span></div>
<div class="line"><span class="comment">// triangularity : 0.0</span></div>
</div><!-- fragment --> <div class="fragment"><div class="line"><span class="comment">// The guenter magnetic field</span></div>
<div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;equilibrium&quot;</span> : <span class="stringliteral">&quot;guenter&quot;</span>,</div>
<div class="line">    <span class="stringliteral">&quot;I_0&quot;</span> : 10,</div>
<div class="line">    <span class="stringliteral">&quot;R_0&quot;</span> : 3</div>
<div class="line">}</div>
<div class="line"><span class="comment">// Automatically chosen:</span></div>
<div class="line"><span class="comment">// description : &quot;square&quot;,</span></div>
<div class="line"><span class="comment">// a : 1.0,</span></div>
<div class="line"><span class="comment">// elongation : 1.0,</span></div>
<div class="line"><span class="comment">// triangularity : 0.0</span></div>
</div><!-- fragment --> <dl class="section see"><dt>See also</dt><dd><code><a class="el" href="group__magnetic.html#gac077a0f92059114ad4973984de444db4" title="How flux function looks like. Decider on whether and what flux aligned grid to construct.">dg::geo::description</a></code> <a class="elRef" href="../../dg/html/group__time__utils.html#ga6da92394b084f50fdbfe42b13506ba40">to</a> see valid values for the description field</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gs</td><td>Has to contain "equilibrium" which is converted <code><a class="el" href="group__magnetic.html#gab39148d38eed4929633564c02238214d" title="How flux-function is computed. Decides how to construct magnetic field.">dg::geo::equilibrium</a></code>, i.e. "solovev", "polynomial", .... After that the respective parameters are created, for example if "solovev", then the <a class="el" href="structdg_1_1geo_1_1solovev_1_1_parameters.html" title="Constructs and display geometric parameters for the solovev and taylor fields.">dg::geo::solovev::Parameters( gs)</a> is called and forwarded to dg::geo::createSolovevField(gp); similar for the rest </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A magnetic field object </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.3-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Jun 23 2025 12:36:36 for Extension: Geometries by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
