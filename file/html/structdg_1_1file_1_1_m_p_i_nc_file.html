<!-- HTML header for doxygen 1.9.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Extension: Json and NetCDF utilities: dg::file::MPINcFile Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
    <!-- ... doxygen-awesome Fragment copy ... -->
    <script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
    <script type="text/javascript">
        DoxygenAwesomeFragmentCopyButton.init()
    </script>
    <!-- ... End doxygen-awesome Fragment copy ... -->
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-fragment-copy-button.js" rel="stylesheet" type="text/css"/>
<link href="menubar.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Make a nice link to github (copied from doxygen-awesome/doxygen-custom/header.html-->
<!-- https://tholman.com/github-corners/ -->
<a href="https://github.com/feltor-dev/feltor" class="github-corner" title="View source on GitHub" target="_blank">
    <svg viewBox="0 0 250 250" width="80" height="80" style="position: absolute; top: 0; border: 0; right: 0; z-index: 99;" aria-hidden="true">
    <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
<!-- End Make a nice link to github -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
    <!--My own title area-->
  <ul class="menubar">
      <!-- <li><a href="../../../index.html">/</a><li>-->
    <li><a href="../../dg/html/topics.html">dg</a></li>
    <li><a href="../../geometries/html/topics.html">dg::geo</a></li>
    <li><a href="../../file/html/topics.html">dg::file</a></li>
    <li><a href="../../exblas/html/namespacedg_1_1exblas.html">dg::exblas</a></li>
    <li><a href="../../matrix/html/topics.html">dg::mat</a></li>
  </ul>
  <!--End My own title area-->
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Extension: Json and NetCDF utilities
   </div>
   <div id="projectbrief">#include &quot;dg/file/file.h&quot;</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('structdg_1_1file_1_1_m_p_i_nc_file.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="structdg_1_1file_1_1_m_p_i_nc_file-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">dg::file::MPINcFile Struct Reference<div class="ingroups"><a class="el" href="group__high.html">A high level C++ interface to NetCDF-4</a> &raquo; <a class="el" href="group__ncfile.html">The NcFile class</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>MPI NetCDF-4 file based on <b>serial</b> NetCDF.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a7533c9f6f23d80fbd6811a4fcb585e3a" id="r_a7533c9f6f23d80fbd6811a4fcb585e3a"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7533c9f6f23d80fbd6811a4fcb585e3a">Hyperslab</a> = <a class="el" href="structdg_1_1file_1_1_m_p_i_nc_hyperslab.html">MPINcHyperslab</a></td></tr>
<tr class="separator:a7533c9f6f23d80fbd6811a4fcb585e3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a25ef70403485ce49effb763d3e818195" id="r_a25ef70403485ce49effb763d3e818195"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a25ef70403485ce49effb763d3e818195">MPINcFile</a> (MPI_Comm comm=MPI_COMM_WORLD)</td></tr>
<tr class="memdesc:a25ef70403485ce49effb763d3e818195"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a File Handle not associated to any file.  <br /></td></tr>
<tr class="separator:a25ef70403485ce49effb763d3e818195"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0110f1f17a8a5b755650269f9a614293" id="r_a0110f1f17a8a5b755650269f9a614293"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0110f1f17a8a5b755650269f9a614293">MPINcFile</a> (const std::filesystem::path &amp;filename, enum <a class="el" href="group__netcdf.html#ga069a80546769d282e7bf3ff44ee4aea7">NcFileMode</a> mode=<a class="el" href="group__netcdf.html#gga069a80546769d282e7bf3ff44ee4aea7a6e9534c8fd3f871d81a984f0fd0a7f0f">nc_nowrite</a>, MPI_Comm comm=MPI_COMM_WORLD)</td></tr>
<tr class="memdesc:a0110f1f17a8a5b755650269f9a614293"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open/Create a netCDF file.     <br /></td></tr>
<tr class="separator:a0110f1f17a8a5b755650269f9a614293"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b4013a069f320725824fc777e31c06a" id="r_a9b4013a069f320725824fc777e31c06a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9b4013a069f320725824fc777e31c06a">MPINcFile</a> (const <a class="el" href="structdg_1_1file_1_1_m_p_i_nc_file.html">MPINcFile</a> &amp;rhs)=delete</td></tr>
<tr class="memdesc:a9b4013a069f320725824fc777e31c06a"><td class="mdescLeft">&#160;</td><td class="mdescRight">There can only be exactly one file handle per physical file.     <br /></td></tr>
<tr class="separator:a9b4013a069f320725824fc777e31c06a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd33dd0c6dc666ee16a72cd4daf3e6f3" id="r_acd33dd0c6dc666ee16a72cd4daf3e6f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdg_1_1file_1_1_m_p_i_nc_file.html">MPINcFile</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acd33dd0c6dc666ee16a72cd4daf3e6f3">operator=</a> (const <a class="el" href="structdg_1_1file_1_1_m_p_i_nc_file.html">MPINcFile</a> &amp;rhs)=delete</td></tr>
<tr class="memdesc:acd33dd0c6dc666ee16a72cd4daf3e6f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">There can only be exactly one file handle per physical file.        <br /></td></tr>
<tr class="separator:acd33dd0c6dc666ee16a72cd4daf3e6f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada13f9f10a0eff5d3de8890d32b2bead" id="r_ada13f9f10a0eff5d3de8890d32b2bead"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ada13f9f10a0eff5d3de8890d32b2bead">MPINcFile</a> (<a class="el" href="structdg_1_1file_1_1_m_p_i_nc_file.html">MPINcFile</a> &amp;&amp;rhs)=default</td></tr>
<tr class="memdesc:ada13f9f10a0eff5d3de8890d32b2bead"><td class="mdescLeft">&#160;</td><td class="mdescRight">Swap resources between two file handles.     <br /></td></tr>
<tr class="separator:ada13f9f10a0eff5d3de8890d32b2bead"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf5cc0b724e387af846b4aec9f7fd255" id="r_aaf5cc0b724e387af846b4aec9f7fd255"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdg_1_1file_1_1_m_p_i_nc_file.html">MPINcFile</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaf5cc0b724e387af846b4aec9f7fd255">operator=</a> (<a class="el" href="structdg_1_1file_1_1_m_p_i_nc_file.html">MPINcFile</a> &amp;&amp;rhs)</td></tr>
<tr class="memdesc:aaf5cc0b724e387af846b4aec9f7fd255"><td class="mdescLeft">&#160;</td><td class="mdescRight">Swap resources between two file handles.     <br /></td></tr>
<tr class="separator:aaf5cc0b724e387af846b4aec9f7fd255"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5290c103c32c0e48188d752c7f21785" id="r_af5290c103c32c0e48188d752c7f21785"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af5290c103c32c0e48188d752c7f21785">~MPINcFile</a> ()=default</td></tr>
<tr class="memdesc:af5290c103c32c0e48188d752c7f21785"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close open nc file and release all resources.     <br /></td></tr>
<tr class="separator:af5290c103c32c0e48188d752c7f21785"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c452dbe16eb43333f2df87af5da7e5e" id="r_a3c452dbe16eb43333f2df87af5da7e5e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3c452dbe16eb43333f2df87af5da7e5e">open</a> (const std::filesystem::path &amp;filename, enum <a class="el" href="group__netcdf.html#ga069a80546769d282e7bf3ff44ee4aea7">NcFileMode</a> mode=<a class="el" href="group__netcdf.html#gga069a80546769d282e7bf3ff44ee4aea7a6e9534c8fd3f871d81a984f0fd0a7f0f">nc_nowrite</a>)</td></tr>
<tr class="separator:a3c452dbe16eb43333f2df87af5da7e5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78c9eb451aa924539346c1760a83cb8c" id="r_a78c9eb451aa924539346c1760a83cb8c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a78c9eb451aa924539346c1760a83cb8c">is_open</a> () const</td></tr>
<tr class="separator:a78c9eb451aa924539346c1760a83cb8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf74467eed8a6b7cfb3ae1c978089f02" id="r_adf74467eed8a6b7cfb3ae1c978089f02"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adf74467eed8a6b7cfb3ae1c978089f02">close</a> ()</td></tr>
<tr class="memdesc:adf74467eed8a6b7cfb3ae1c978089f02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Explicitly close a file.     <br /></td></tr>
<tr class="separator:adf74467eed8a6b7cfb3ae1c978089f02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab61252dce45791db59c8a368f64b5354" id="r_ab61252dce45791db59c8a368f64b5354"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab61252dce45791db59c8a368f64b5354">sync</a> ()</td></tr>
<tr class="memdesc:ab61252dce45791db59c8a368f64b5354"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call nc_sync.     <br /></td></tr>
<tr class="separator:ab61252dce45791db59c8a368f64b5354"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd01750cb9f3cc9e46039b57a5be9235" id="r_abd01750cb9f3cc9e46039b57a5be9235"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abd01750cb9f3cc9e46039b57a5be9235">get_ncid</a> () const noexcept</td></tr>
<tr class="memdesc:abd01750cb9f3cc9e46039b57a5be9235"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the <code>ncid</code> of the underlying NetCDF C-API.     <br /></td></tr>
<tr class="separator:abd01750cb9f3cc9e46039b57a5be9235"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd445ddfb9e0fb0d5db6958d75b74237" id="r_afd445ddfb9e0fb0d5db6958d75b74237"><td class="memItemLeft" align="right" valign="top">MPI_Comm&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afd445ddfb9e0fb0d5db6958d75b74237">communicator</a> () const</td></tr>
<tr class="memdesc:afd445ddfb9e0fb0d5db6958d75b74237"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return MPI communicator set in constructor.  <br /></td></tr>
<tr class="separator:afd445ddfb9e0fb0d5db6958d75b74237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa26096f167a6560ab949af57cda72427" id="r_aa26096f167a6560ab949af57cda72427"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa26096f167a6560ab949af57cda72427">def_grp</a> (std::string name)</td></tr>
<tr class="separator:aa26096f167a6560ab949af57cda72427"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32c33999c5a57b6f7cc55c1bb434079c" id="r_a32c33999c5a57b6f7cc55c1bb434079c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a32c33999c5a57b6f7cc55c1bb434079c">def_grp_p</a> (std::filesystem::path path)</td></tr>
<tr class="separator:a32c33999c5a57b6f7cc55c1bb434079c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78f0b5dace4dda55fae1381b86d17a98" id="r_a78f0b5dace4dda55fae1381b86d17a98"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a78f0b5dace4dda55fae1381b86d17a98">grp_is_defined</a> (std::filesystem::path path) const</td></tr>
<tr class="memdesc:a78f0b5dace4dda55fae1381b86d17a98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check for existence of the group given by path.     <br /></td></tr>
<tr class="separator:a78f0b5dace4dda55fae1381b86d17a98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1140a548101026d93c10decd79e18602" id="r_a1140a548101026d93c10decd79e18602"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1140a548101026d93c10decd79e18602">set_grp</a> (std::filesystem::path path=&quot;&quot;)</td></tr>
<tr class="memdesc:a1140a548101026d93c10decd79e18602"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change group to <code>path</code>.     <br /></td></tr>
<tr class="separator:a1140a548101026d93c10decd79e18602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2db9d371937c5b08205096bc526663d6" id="r_a2db9d371937c5b08205096bc526663d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2db9d371937c5b08205096bc526663d6">rename_grp</a> (std::string old_name, std::string new_name)</td></tr>
<tr class="separator:a2db9d371937c5b08205096bc526663d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add8b09defd5e88de6e0379d6aa7a2c65" id="r_add8b09defd5e88de6e0379d6aa7a2c65"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#add8b09defd5e88de6e0379d6aa7a2c65">get_grpid</a> () const noexcept</td></tr>
<tr class="memdesc:add8b09defd5e88de6e0379d6aa7a2c65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the NetCDF-C ID of the current group.     <br /></td></tr>
<tr class="separator:add8b09defd5e88de6e0379d6aa7a2c65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a324df27278d2b9d1c2078231df76b5c0" id="r_a324df27278d2b9d1c2078231df76b5c0"><td class="memItemLeft" align="right" valign="top">std::filesystem::path&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a324df27278d2b9d1c2078231df76b5c0">get_current_path</a> () const</td></tr>
<tr class="memdesc:a324df27278d2b9d1c2078231df76b5c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the absolute path of the current group.     <br /></td></tr>
<tr class="separator:a324df27278d2b9d1c2078231df76b5c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d30a3f073d7b2e77d8a6a2c3ebf3060" id="r_a1d30a3f073d7b2e77d8a6a2c3ebf3060"><td class="memItemLeft" align="right" valign="top">std::list&lt; std::filesystem::path &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1d30a3f073d7b2e77d8a6a2c3ebf3060">get_grps</a> () const</td></tr>
<tr class="separator:a1d30a3f073d7b2e77d8a6a2c3ebf3060"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0440c554cfc1d0842f587ee08f4aec7e" id="r_a0440c554cfc1d0842f587ee08f4aec7e"><td class="memItemLeft" align="right" valign="top">std::list&lt; std::filesystem::path &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0440c554cfc1d0842f587ee08f4aec7e">get_grps_r</a> () const</td></tr>
<tr class="memdesc:a0440c554cfc1d0842f587ee08f4aec7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all subgroups recursively in the current group as absolute paths.     <br /></td></tr>
<tr class="separator:a0440c554cfc1d0842f587ee08f4aec7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c4a2f38be64487507df28292967817d" id="r_a6c4a2f38be64487507df28292967817d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c4a2f38be64487507df28292967817d">def_dim</a> (std::string name, size_t size)</td></tr>
<tr class="memdesc:a6c4a2f38be64487507df28292967817d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a dimension named <code>name</code> of size <code>size</code>.     <br /></td></tr>
<tr class="separator:a6c4a2f38be64487507df28292967817d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5973731ea7aea679e6573ea97012c7ae" id="r_a5973731ea7aea679e6573ea97012c7ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5973731ea7aea679e6573ea97012c7ae">rename_dim</a> (std::string old_name, std::string new_name)</td></tr>
<tr class="memdesc:a5973731ea7aea679e6573ea97012c7ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rename a dimension from <code>old_name</code> to <code>new_name</code>.     <br /></td></tr>
<tr class="separator:a5973731ea7aea679e6573ea97012c7ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa396d4d97bbb84b8a57a5a3920f5735" id="r_aaa396d4d97bbb84b8a57a5a3920f5735"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaa396d4d97bbb84b8a57a5a3920f5735">get_dim_size</a> (std::string name) const</td></tr>
<tr class="memdesc:aaa396d4d97bbb84b8a57a5a3920f5735"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the size of the dimension named <code>name</code>.     <br /></td></tr>
<tr class="separator:aaa396d4d97bbb84b8a57a5a3920f5735"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a866fb61e44964f9bb40b11c9caafec35" id="r_a866fb61e44964f9bb40b11c9caafec35"><td class="memItemLeft" align="right" valign="top">std::vector&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a866fb61e44964f9bb40b11c9caafec35">get_dims_shape</a> (const std::vector&lt; std::string &gt; &amp;dims) const</td></tr>
<tr class="memdesc:a866fb61e44964f9bb40b11c9caafec35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the size of each dimension in <code>dims</code>.     <br /></td></tr>
<tr class="separator:a866fb61e44964f9bb40b11c9caafec35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20a42319b89422036ef3af2128b62f4d" id="r_a20a42319b89422036ef3af2128b62f4d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a20a42319b89422036ef3af2128b62f4d">get_dims</a> (bool include_parents=true) const</td></tr>
<tr class="separator:a20a42319b89422036ef3af2128b62f4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f11c3c247b46d326ef7e1ae6248c702" id="r_a2f11c3c247b46d326ef7e1ae6248c702"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2f11c3c247b46d326ef7e1ae6248c702">get_unlim_dims</a> () const</td></tr>
<tr class="separator:a2f11c3c247b46d326ef7e1ae6248c702"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7124fd35d705525c044cd1c7c0698b7" id="r_af7124fd35d705525c044cd1c7c0698b7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af7124fd35d705525c044cd1c7c0698b7">dim_is_defined</a> (std::string name) const</td></tr>
<tr class="separator:af7124fd35d705525c044cd1c7c0698b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32faa7c38409660f29d9955d9e850f1d" id="r_a32faa7c38409660f29d9955d9e850f1d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a32faa7c38409660f29d9955d9e850f1d">put_att</a> (const std::pair&lt; std::string, <a class="el" href="group__netcdf.html#ga73aa8fc2c366b0e640bd483c73910c79">nc_att_t</a> &gt; &amp;att, std::string id=&quot;&quot;)</td></tr>
<tr class="memdesc:a32faa7c38409660f29d9955d9e850f1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Put an individual attribute.     <br /></td></tr>
<tr class="separator:a32faa7c38409660f29d9955d9e850f1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a749b8c08b402728dcafa1809e9977006" id="r_a749b8c08b402728dcafa1809e9977006"><td class="memTemplParams" colspan="2">template&lt;class S , class T &gt; </td></tr>
<tr class="memitem:a749b8c08b402728dcafa1809e9977006"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a749b8c08b402728dcafa1809e9977006">put_att</a> (const std::tuple&lt; S, nc_type, T &gt; &amp;att, std::string id=&quot;&quot;)</td></tr>
<tr class="memdesc:a749b8c08b402728dcafa1809e9977006"><td class="mdescLeft">&#160;</td><td class="mdescRight">Put an individual attribute of preset type to variable id.     <br /></td></tr>
<tr class="separator:a749b8c08b402728dcafa1809e9977006"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03ed2b7546bcb152afb0ac395fac604d" id="r_a03ed2b7546bcb152afb0ac395fac604d"><td class="memTemplParams" colspan="2">template&lt;class Attributes  = std::map&lt;std::string, nc_att_t&gt;&gt; </td></tr>
<tr class="memitem:a03ed2b7546bcb152afb0ac395fac604d"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a03ed2b7546bcb152afb0ac395fac604d">put_atts</a> (const Attributes &amp;atts, std::string id=&quot;&quot;)</td></tr>
<tr class="memdesc:a03ed2b7546bcb152afb0ac395fac604d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a collection of attributes to a NetCDF variable or file.     <br /></td></tr>
<tr class="separator:a03ed2b7546bcb152afb0ac395fac604d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7435c5d3aa157b5c39fd3ab88c3b1871" id="r_a7435c5d3aa157b5c39fd3ab88c3b1871"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a7435c5d3aa157b5c39fd3ab88c3b1871"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a7435c5d3aa157b5c39fd3ab88c3b1871">get_att_as</a> (std::string att_name, std::string id=&quot;&quot;) const</td></tr>
<tr class="memdesc:a7435c5d3aa157b5c39fd3ab88c3b1871"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an attribute named <code>att_name</code> of the group or variable <code>id</code>.     <br /></td></tr>
<tr class="separator:a7435c5d3aa157b5c39fd3ab88c3b1871"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e3714f60f6d540cc351850f541af8e5" id="r_a6e3714f60f6d540cc351850f541af8e5"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a6e3714f60f6d540cc351850f541af8e5"><td class="memTemplItemLeft" align="right" valign="top">std::vector&lt; T &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a6e3714f60f6d540cc351850f541af8e5">get_att_vec_as</a> (std::string att_name, std::string id=&quot;&quot;) const</td></tr>
<tr class="memdesc:a6e3714f60f6d540cc351850f541af8e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Short for <code> get_att_as&lt;std::vector&lt;T&gt;&gt;( id, att_name);</code>     <br /></td></tr>
<tr class="separator:a6e3714f60f6d540cc351850f541af8e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc40345cc11a42fb5ce79817e40756f1" id="r_acc40345cc11a42fb5ce79817e40756f1"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:acc40345cc11a42fb5ce79817e40756f1"><td class="memTemplItemLeft" align="right" valign="top">std::map&lt; std::string, T &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#acc40345cc11a42fb5ce79817e40756f1">get_atts_as</a> (std::string id=&quot;&quot;) const</td></tr>
<tr class="memdesc:acc40345cc11a42fb5ce79817e40756f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read all NetCDF attributes of a certain type.     <br /></td></tr>
<tr class="separator:acc40345cc11a42fb5ce79817e40756f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1310be2cf0ca0d8828d329d351681b28" id="r_a1310be2cf0ca0d8828d329d351681b28"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, <a class="el" href="group__netcdf.html#ga73aa8fc2c366b0e640bd483c73910c79">nc_att_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1310be2cf0ca0d8828d329d351681b28">get_atts</a> (std::string id=&quot;&quot;) const</td></tr>
<tr class="separator:a1310be2cf0ca0d8828d329d351681b28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e22484634ec392332e009eedfa9dfe5" id="r_a1e22484634ec392332e009eedfa9dfe5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1e22484634ec392332e009eedfa9dfe5">del_att</a> (std::string att_name, std::string id=&quot;&quot;)</td></tr>
<tr class="memdesc:a1e22484634ec392332e009eedfa9dfe5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove an attribute named <code>att_name</code> from variable <code>id</code>.     <br /></td></tr>
<tr class="separator:a1e22484634ec392332e009eedfa9dfe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2768320aa13d39b6ff9c00a0ff54ccc9" id="r_a2768320aa13d39b6ff9c00a0ff54ccc9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2768320aa13d39b6ff9c00a0ff54ccc9">att_is_defined</a> (std::string att_name, std::string id=&quot;&quot;) const</td></tr>
<tr class="separator:a2768320aa13d39b6ff9c00a0ff54ccc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b780a69185a832178be980153d89f31" id="r_a0b780a69185a832178be980153d89f31"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0b780a69185a832178be980153d89f31">rename_att</a> (std::string old_att_name, std::string new_att_name, std::string id=&quot;&quot;)</td></tr>
<tr class="separator:a0b780a69185a832178be980153d89f31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2122c8fb7346d9993f7817977dd1d9c9" id="r_a2122c8fb7346d9993f7817977dd1d9c9"><td class="memTemplParams" colspan="2">template&lt;class T , class Attributes  = std::map&lt;std::string, nc_att_t&gt;&gt; </td></tr>
<tr class="memitem:a2122c8fb7346d9993f7817977dd1d9c9"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a2122c8fb7346d9993f7817977dd1d9c9">def_var_as</a> (std::string name, const std::vector&lt; std::string &gt; &amp;dim_names, const Attributes &amp;atts={})</td></tr>
<tr class="memdesc:a2122c8fb7346d9993f7817977dd1d9c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a variable with given type, dimensions and (optionally) attributes.     <br /></td></tr>
<tr class="separator:a2122c8fb7346d9993f7817977dd1d9c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a258f0e4c25a918ebb3d196b49943367f" id="r_a258f0e4c25a918ebb3d196b49943367f"><td class="memTemplParams" colspan="2">template&lt;class Attributes  = std::map&lt;std::string, nc_att_t&gt;&gt; </td></tr>
<tr class="memitem:a258f0e4c25a918ebb3d196b49943367f"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a258f0e4c25a918ebb3d196b49943367f">def_var</a> (std::string name, nc_type xtype, const std::vector&lt; std::string &gt; &amp;dim_names, const Attributes &amp;atts={})</td></tr>
<tr class="memdesc:a258f0e4c25a918ebb3d196b49943367f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a variable with given type, dimensions and (optionally) attributes.     <br /></td></tr>
<tr class="separator:a258f0e4c25a918ebb3d196b49943367f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a491de7aac14cf3f245168c96f54ae06a" id="r_a491de7aac14cf3f245168c96f54ae06a"><td class="memTemplParams" colspan="2">template&lt;class ContainerType , typename  = std::enable_if_t&lt;        dg::is_vector_v&lt;ContainerType, dg::SharedVectorTag&gt; or        dg::is_vector_v&lt;ContainerType, dg::MPIVectorTag&gt;&gt;&gt; </td></tr>
<tr class="memitem:a491de7aac14cf3f245168c96f54ae06a"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a491de7aac14cf3f245168c96f54ae06a">put_var</a> (std::string name, const <a class="el" href="structdg_1_1file_1_1_m_p_i_nc_hyperslab.html">MPINcHyperslab</a> &amp;slab, const ContainerType &amp;data)</td></tr>
<tr class="memdesc:a491de7aac14cf3f245168c96f54ae06a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data to a variable.     <br /></td></tr>
<tr class="separator:a491de7aac14cf3f245168c96f54ae06a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a879a2ad4b306cb51536eb1cb7c70bf51" id="r_a879a2ad4b306cb51536eb1cb7c70bf51"><td class="memTemplParams" colspan="2">template&lt;class ContainerType , class Attributes  = std::map&lt;std::string, nc_att_t&gt;, typename  = std::enable_if_t&lt;        dg::is_vector_v&lt;ContainerType, dg::SharedVectorTag&gt; or        dg::is_vector_v&lt;ContainerType, dg::MPIVectorTag&gt;&gt;&gt; </td></tr>
<tr class="memitem:a879a2ad4b306cb51536eb1cb7c70bf51"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a879a2ad4b306cb51536eb1cb7c70bf51">defput_var</a> (std::string name, const std::vector&lt; std::string &gt; &amp;dim_names, const Attributes &amp;atts, const <a class="el" href="structdg_1_1file_1_1_m_p_i_nc_hyperslab.html">MPINcHyperslab</a> &amp;slab, const ContainerType &amp;data)</td></tr>
<tr class="memdesc:a879a2ad4b306cb51536eb1cb7c70bf51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define and put a variable in one go.     <br /></td></tr>
<tr class="separator:a879a2ad4b306cb51536eb1cb7c70bf51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72de26f9b2da586272580f0cbd1fba0c" id="r_a72de26f9b2da586272580f0cbd1fba0c"><td class="memTemplParams" colspan="2">template&lt;class T , typename  = std::enable_if_t&lt;dg::is_scalar_v&lt;T&gt;&gt;&gt; </td></tr>
<tr class="memitem:a72de26f9b2da586272580f0cbd1fba0c"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a72de26f9b2da586272580f0cbd1fba0c">put_var</a> (std::string name, const std::vector&lt; size_t &gt; &amp;start, T data)</td></tr>
<tr class="memdesc:a72de26f9b2da586272580f0cbd1fba0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a single data point.     <br /></td></tr>
<tr class="separator:a72de26f9b2da586272580f0cbd1fba0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1c01f5cf648af661fcfe65438201c35" id="r_ae1c01f5cf648af661fcfe65438201c35"><td class="memTemplParams" colspan="2">template&lt;class T , class Attributes  = std::map&lt;std::string, nc_att_t&gt;&gt; </td></tr>
<tr class="memitem:ae1c01f5cf648af661fcfe65438201c35"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#ae1c01f5cf648af661fcfe65438201c35">def_dimvar_as</a> (std::string name, size_t size, const Attributes &amp;atts)</td></tr>
<tr class="memdesc:ae1c01f5cf648af661fcfe65438201c35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a dimension and dimension variable in one go.     <br /></td></tr>
<tr class="separator:ae1c01f5cf648af661fcfe65438201c35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b85e0725d2f4bac2ddefd321fcb5251" id="r_a8b85e0725d2f4bac2ddefd321fcb5251"><td class="memTemplParams" colspan="2">template&lt;class ContainerType , class Attributes  = std::map&lt;std::string, nc_att_t&gt;&gt; </td></tr>
<tr class="memitem:a8b85e0725d2f4bac2ddefd321fcb5251"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a8b85e0725d2f4bac2ddefd321fcb5251">defput_dim</a> (std::string name, const Attributes &amp;atts, const MPI_Vector&lt; ContainerType &gt; &amp;abscissas)</td></tr>
<tr class="memdesc:a8b85e0725d2f4bac2ddefd321fcb5251"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a dimension and define and write to a dimension variable in one go.     <br /></td></tr>
<tr class="separator:a8b85e0725d2f4bac2ddefd321fcb5251"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef2ca6cf7c593eef4e2095c03746dfa3" id="r_aef2ca6cf7c593eef4e2095c03746dfa3"><td class="memTemplParams" colspan="2">template&lt;class ContainerType , typename  = std::enable_if_t&lt;        dg::is_vector_v&lt;ContainerType, dg::SharedVectorTag&gt; or        dg::is_vector_v&lt;ContainerType, dg::MPIVectorTag&gt;&gt;&gt; </td></tr>
<tr class="memitem:aef2ca6cf7c593eef4e2095c03746dfa3"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#aef2ca6cf7c593eef4e2095c03746dfa3">get_var</a> (std::string name, const <a class="el" href="structdg_1_1file_1_1_m_p_i_nc_hyperslab.html">MPINcHyperslab</a> &amp;slab, ContainerType &amp;data) const</td></tr>
<tr class="memdesc:aef2ca6cf7c593eef4e2095c03746dfa3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read hyperslab <code>slab</code> from variable named <code>name</code> into container <code>data</code>.     <br /></td></tr>
<tr class="separator:aef2ca6cf7c593eef4e2095c03746dfa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2eafac9c721518dc969a837358be0540" id="r_a2eafac9c721518dc969a837358be0540"><td class="memTemplParams" colspan="2">template&lt;class T , typename  = std::enable_if_t&lt;dg::is_scalar_v&lt;T&gt;&gt;&gt; </td></tr>
<tr class="memitem:a2eafac9c721518dc969a837358be0540"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a2eafac9c721518dc969a837358be0540">get_var</a> (std::string name, const std::vector&lt; size_t &gt; &amp;start, T &amp;data) const</td></tr>
<tr class="memdesc:a2eafac9c721518dc969a837358be0540"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read scalar from position <code>start</code> from variable named <code>name</code>.     <br /></td></tr>
<tr class="separator:a2eafac9c721518dc969a837358be0540"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef9a781ba4e8201e07b3ac1114138a60" id="r_aef9a781ba4e8201e07b3ac1114138a60"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aef9a781ba4e8201e07b3ac1114138a60">var_is_defined</a> (std::string name) const</td></tr>
<tr class="separator:aef9a781ba4e8201e07b3ac1114138a60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9122333b28669b274de96c0d3aa98d11" id="r_a9122333b28669b274de96c0d3aa98d11"><td class="memItemLeft" align="right" valign="top">nc_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9122333b28669b274de96c0d3aa98d11">get_var_type</a> (std::string name) const</td></tr>
<tr class="separator:a9122333b28669b274de96c0d3aa98d11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f0423de050f9f2801088ae3682389e2" id="r_a0f0423de050f9f2801088ae3682389e2"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0f0423de050f9f2801088ae3682389e2">get_var_dims</a> (std::string name) const</td></tr>
<tr class="memdesc:a0f0423de050f9f2801088ae3682389e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the dimension names associated to variable <code>name</code>.     <br /></td></tr>
<tr class="separator:a0f0423de050f9f2801088ae3682389e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0c66bd8f1793acd92f89062e0d5bb9e" id="r_af0c66bd8f1793acd92f89062e0d5bb9e"><td class="memItemLeft" align="right" valign="top">std::list&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af0c66bd8f1793acd92f89062e0d5bb9e">get_var_names</a> () const</td></tr>
<tr class="memdesc:af0c66bd8f1793acd92f89062e0d5bb9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a list of variable names in the current group.     <br /></td></tr>
<tr class="separator:af0c66bd8f1793acd92f89062e0d5bb9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>MPI NetCDF-4 file based on <b>serial</b> NetCDF. </p>
<p>by funneling all file operations through the rank 0 of the given communicator. In general, only the rank 0 actually opens, reads and writes to the file on disk with the exception of the <code>nc_nowrite</code> file mode where all ranks open the file. When metadata like attributes, groups and dimensions are read all ranks receive the same information (by <code>MPI_Bcast</code> i.e. there is MPI communication, or a parallel read without communication for <code>nc_nowrite</code>) and all ranks should call the write members with the same information even if only the rank 0 actually uses it.</p>
<p>When variables are read and written all ranks write/read a different chunk of the data except for scalar variables which are broadcast to all ranks on read. If <code>nc_nowrite</code> the reads are parallel and involve no MPI communication, otherwise all data is communicated to/from rank 0.</p>
<p>See here an example of its use </p><div class="fragment"><div class="line">    <span class="comment">// This example compiles in both serial and MPI environments</span></div>
<div class="line"><span class="preprocessor">#ifdef WITH_MPI</span></div>
<div class="line">    MPI_Comm comm = dg::mpi_cart_create( MPI_COMM_WORLD, {0,0}, {1, 1});</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">    <span class="comment">// Open file and put some attributes</span></div>
<div class="line">    <a class="code hl_struct" href="structdg_1_1file_1_1_m_p_i_nc_file.html">dg::file::NcFile</a> file( <span class="stringliteral">&quot;inout-test.nc&quot;</span>, <a class="code hl_enumvalue" href="group__netcdf.html#gga069a80546769d282e7bf3ff44ee4aea7a60be11bfc96aca3f79bf94cff4539923">dg::file::nc_clobber</a>);</div>
<div class="line">    file.put_att( {<span class="stringliteral">&quot;title&quot;</span>, <span class="stringliteral">&quot;Hello world&quot;</span>});</div>
<div class="line">    file.put_att( {<span class="stringliteral">&quot;truth&quot;</span>, 42});</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Generate a grid</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">double</span> x0 = 0., x1 = 2.*M_PI;</div>
<div class="line">    dg::x::CartesianGrid2d grid( x0,x1,x0,x1,3,10,10</div>
<div class="line">#ifdef WITH_MPI</div>
<div class="line">    , comm</div>
<div class="line">#endif</div>
<div class="line">    );</div>
<div class="line">    <span class="comment">// and put dimensions to file</span></div>
<div class="line">    file.defput_dim( <span class="stringliteral">&quot;x&quot;</span>, {{<span class="stringliteral">&quot;axis&quot;</span>, <span class="stringliteral">&quot;X&quot;</span>},</div>
<div class="line">        {<span class="stringliteral">&quot;long_name&quot;</span>, <span class="stringliteral">&quot;x-coordinate in Cartesian system&quot;</span>}},</div>
<div class="line">        grid.abscissas(0));</div>
<div class="line">    file.defput_dim( <span class="stringliteral">&quot;y&quot;</span>, {{<span class="stringliteral">&quot;axis&quot;</span>, <span class="stringliteral">&quot;Y&quot;</span>},</div>
<div class="line">        {<span class="stringliteral">&quot;long_name&quot;</span>, <span class="stringliteral">&quot;y-coordinate in Cartesian system&quot;</span>}},</div>
<div class="line">        grid.abscissas(1));</div>
<div class="line">    <span class="comment">// Generate some data and write to file</span></div>
<div class="line">    dg::x::HVec data = dg::evaluate( function, grid);</div>
<div class="line">    <span class="comment">// Defne and write a variable in one go</span></div>
<div class="line">    file.defput_var( <span class="stringliteral">&quot;variable&quot;</span>, {<span class="stringliteral">&quot;y&quot;</span>, <span class="stringliteral">&quot;x&quot;</span>},</div>
<div class="line">                {{<span class="stringliteral">&quot;long_name&quot;</span>, <span class="stringliteral">&quot;A long explanation&quot;</span>}, {<span class="stringliteral">&quot;unit&quot;</span>, <span class="stringliteral">&quot;m/s&quot;</span>}},</div>
<div class="line">                grid, data);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Generate an unlimited dimension and define another variable</span></div>
<div class="line">    file.def_dimvar_as&lt;<span class="keywordtype">double</span>&gt;( <span class="stringliteral">&quot;time&quot;</span>, NC_UNLIMITED, {{<span class="stringliteral">&quot;axis&quot;</span>, <span class="stringliteral">&quot;T&quot;</span>}});</div>
<div class="line">    file.def_var_as&lt;<span class="keywordtype">double</span>&gt;( <span class="stringliteral">&quot;dependent&quot;</span>, {<span class="stringliteral">&quot;time&quot;</span>, <span class="stringliteral">&quot;y&quot;</span>, <span class="stringliteral">&quot;x&quot;</span>},</div>
<div class="line">        {{<span class="stringliteral">&quot;long_name&quot;</span>, <span class="stringliteral">&quot;Really interesting&quot;</span>}});</div>
<div class="line">    <span class="comment">// Write timeseries</span></div>
<div class="line">    <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> u=0; u&lt;=2; u++)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordtype">double</span> time = u*0.01;</div>
<div class="line">        file.put_var(<span class="stringliteral">&quot;time&quot;</span>, {u}, time);</div>
<div class="line">        <span class="comment">// We can write directly from GPU</span></div>
<div class="line">        dg::x::DVec data = dg::evaluate( function, grid);</div>
<div class="line">        dg::blas1::scal( data, cos(time));</div>
<div class="line">        file.put_var( <span class="stringliteral">&quot;dependent&quot;</span>, {u, grid}, data);</div>
<div class="line">    }</div>
<div class="line">    file.close();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Open file for reading</span></div>
<div class="line">    file.open( <span class="stringliteral">&quot;inout-test.nc&quot;</span>, <a class="code hl_enumvalue" href="group__netcdf.html#gga069a80546769d282e7bf3ff44ee4aea7a6e9534c8fd3f871d81a984f0fd0a7f0f">dg::file::nc_nowrite</a>);</div>
<div class="line">    std::string title = file.get_att_as&lt;std::string&gt;( <span class="stringliteral">&quot;title&quot;</span>);</div>
<div class="line">    <span class="comment">// In MPI all ranks automatically get the right chunk of data</span></div>
<div class="line">    file.get_var( <span class="stringliteral">&quot;variable&quot;</span>, grid, data);</div>
<div class="line">    <span class="keywordtype">unsigned</span> NT = file.get_dim_size( <span class="stringliteral">&quot;time&quot;</span>);</div>
<div class="line">    CHECK( NT == 3);</div>
<div class="line">    <span class="keywordtype">double</span> time;</div>
<div class="line">    file.get_var( <span class="stringliteral">&quot;time&quot;</span>, {0}, time);</div>
<div class="line">    file.close();</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>When compiling you thus need to link only to the normal <b>serial</b> NetCDF-C library, <b>not parallel</b> NetCDF </dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>All ranks in the communicator <code>comm</code> given in the constructor must participate in <b>all</b> member function calls. No exceptions!. Even if e.g. the data to write only lies distributed only on a subgroup of ranks. If an error occurs <b>all participating ranks will throw</b>! </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structdg_1_1file_1_1_serial_nc_file.html" title="Serial NetCDF-4 file.">SerialNcFile</a> </dd></dl>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a7533c9f6f23d80fbd6811a4fcb585e3a" name="a7533c9f6f23d80fbd6811a4fcb585e3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7533c9f6f23d80fbd6811a4fcb585e3a">&#9670;&#160;</a></span>Hyperslab</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#a7533c9f6f23d80fbd6811a4fcb585e3a">dg::file::MPINcFile::Hyperslab</a> = <a class="el" href="structdg_1_1file_1_1_m_p_i_nc_hyperslab.html">MPINcHyperslab</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a25ef70403485ce49effb763d3e818195" name="a25ef70403485ce49effb763d3e818195"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25ef70403485ce49effb763d3e818195">&#9670;&#160;</a></span>MPINcFile() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dg::file::MPINcFile::MPINcFile </td>
          <td>(</td>
          <td class="paramtype">MPI_Comm</td>          <td class="paramname"><span class="paramname"><em>comm</em></span><span class="paramdefsep"> = </span><span class="paramdefval">MPI_COMM_WORLD</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct a File Handle not associated to any file. </p>
<div class="fragment"><div class="line"><a class="code hl_struct" href="structdg_1_1file_1_1_m_p_i_nc_file.html">dg::file::NcFile</a> file;</div>
<div class="line">file.<a class="code hl_function" href="#a3c452dbe16eb43333f2df87af5da7e5e">open</a>(<span class="stringliteral">&quot;test.nc&quot;</span>, <a class="code hl_enumvalue" href="group__netcdf.html#gga069a80546769d282e7bf3ff44ee4aea7acb6819c73ab0466a37a958614672dd0c">dg::file::nc_noclobber</a>);</div>
<div class="line">CHECK( file.<a class="code hl_function" href="#a78c9eb451aa924539346c1760a83cb8c">is_open</a>());</div>
<div class="line">file.<a class="code hl_function" href="#adf74467eed8a6b7cfb3ae1c978089f02">close</a>();</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">comm</td><td>All ranks in comm must participate in all subsequent member function calls </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0110f1f17a8a5b755650269f9a614293" name="a0110f1f17a8a5b755650269f9a614293"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0110f1f17a8a5b755650269f9a614293">&#9670;&#160;</a></span>MPINcFile() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dg::file::MPINcFile::MPINcFile </td>
          <td>(</td>
          <td class="paramtype">const std::filesystem::path &amp;</td>          <td class="paramname"><span class="paramname"><em>filename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__netcdf.html#ga069a80546769d282e7bf3ff44ee4aea7">NcFileMode</a></td>          <td class="paramname"><span class="paramname"><em>mode</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="group__netcdf.html#gga069a80546769d282e7bf3ff44ee4aea7a6e9534c8fd3f871d81a984f0fd0a7f0f">nc_nowrite</a></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MPI_Comm</td>          <td class="paramname"><span class="paramname"><em>comm</em></span><span class="paramdefsep"> = </span><span class="paramdefval">MPI_COMM_WORLD</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open/Create a netCDF file.    </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>Name or path including the name of the netCDF file to open or create. The path may be either absolute or <b>relative to the execution path of the program</b> i.e. relative to <code>std::filesystem::current_path()</code> </td></tr>
    <tr><td class="paramname">mode</td><td>(see <code>NcFileMode</code> for nc_nowrite, nc_write, nc_clobber, nc_noclobber)</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a class="code hl_struct" href="structdg_1_1file_1_1_m_p_i_nc_file.html">dg::file::NcFile</a> file( <span class="stringliteral">&quot;../test.nc&quot;</span>, <a class="code hl_enumvalue" href="group__netcdf.html#gga069a80546769d282e7bf3ff44ee4aea7a60be11bfc96aca3f79bf94cff4539923">dg::file::nc_clobber</a>);</div>
<div class="line">CHECK( std::filesystem::exists( <span class="stringliteral">&quot;../test.nc&quot;</span>));</div>
<div class="line">CHECK( file.<a class="code hl_function" href="#a78c9eb451aa924539346c1760a83cb8c">is_open</a>());</div>
<div class="line"><span class="comment">// Cannot open another file while open</span></div>
<div class="line">CHECK_THROWS_AS( file.<a class="code hl_function" href="#a3c452dbe16eb43333f2df87af5da7e5e">open</a>(<span class="stringliteral">&quot;test.nc&quot;</span>), <a class="code hl_struct" href="structdg_1_1file_1_1_n_c___error.html">dg::file::NC_Error</a>);</div>
<div class="line">file.<a class="code hl_function" href="#adf74467eed8a6b7cfb3ae1c978089f02">close</a>();</div>
</div><!-- fragment --> <dl class="section see"><dt>See also</dt><dd><a class="el" href="group__netcdf.html#ga069a80546769d282e7bf3ff44ee4aea7" title="NetCDF file format.">NcFileMode</a>    </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">comm</td><td>All ranks in comm must participate in all subsequent member function calls </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a0110f1f17a8a5b755650269f9a614293_cgraph.svg" width="535" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a9b4013a069f320725824fc777e31c06a" name="a9b4013a069f320725824fc777e31c06a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b4013a069f320725824fc777e31c06a">&#9670;&#160;</a></span>MPINcFile() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dg::file::MPINcFile::MPINcFile </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdg_1_1file_1_1_m_p_i_nc_file.html">MPINcFile</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>rhs</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>There can only be exactly one file handle per physical file.    </p>
<p>The reason is that the destructor releases all resources and thus a copy of the file that is subsequently destroyed leaves the original in an invalid state    </p>

</div>
</div>
<a id="ada13f9f10a0eff5d3de8890d32b2bead" name="ada13f9f10a0eff5d3de8890d32b2bead"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada13f9f10a0eff5d3de8890d32b2bead">&#9670;&#160;</a></span>MPINcFile() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dg::file::MPINcFile::MPINcFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdg_1_1file_1_1_m_p_i_nc_file.html">MPINcFile</a> &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>rhs</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Swap resources between two file handles.    </p>

</div>
</div>
<a id="af5290c103c32c0e48188d752c7f21785" name="af5290c103c32c0e48188d752c7f21785"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5290c103c32c0e48188d752c7f21785">&#9670;&#160;</a></span>~MPINcFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dg::file::MPINcFile::~MPINcFile </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Close open nc file and release all resources.    </p>
<dl class="section note"><dt>Note</dt><dd>A destructor never throws any errors and we will just print a warning to <code>std::cerr</code> if something goes wrong    </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2768320aa13d39b6ff9c00a0ff54ccc9" name="a2768320aa13d39b6ff9c00a0ff54ccc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2768320aa13d39b6ff9c00a0ff54ccc9">&#9670;&#160;</a></span>att_is_defined()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dg::file::MPINcFile::att_is_defined </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>att_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>id</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;&quot;</span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p></p>
<p>Check for existence of the attribute named <code>att_name</code> in variable <code>id</code> </p><div class="fragment"><div class="line">file.<a class="code hl_function" href="#a32faa7c38409660f29d9955d9e850f1d">put_att</a>({<span class="stringliteral">&quot;same&quot;</span>, <span class="stringliteral">&quot;thing&quot;</span>});</div>
<div class="line">CHECK( file.<a class="code hl_function" href="#a2768320aa13d39b6ff9c00a0ff54ccc9">att_is_defined</a>( <span class="stringliteral">&quot;same&quot;</span>));</div>
<div class="line">file.<a class="code hl_function" href="#a1e22484634ec392332e009eedfa9dfe5">del_att</a>( <span class="stringliteral">&quot;same&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">CHECK( not file.<a class="code hl_function" href="#a2768320aa13d39b6ff9c00a0ff54ccc9">att_is_defined</a>( <span class="stringliteral">&quot;same&quot;</span>));</div>
</div><!-- fragment -->   <div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a2768320aa13d39b6ff9c00a0ff54ccc9_cgraph.svg" width="348" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="adf74467eed8a6b7cfb3ae1c978089f02" name="adf74467eed8a6b7cfb3ae1c978089f02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf74467eed8a6b7cfb3ae1c978089f02">&#9670;&#160;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dg::file::MPINcFile::close </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Explicitly close a file.    </p>
<p>Closing a file triggers all buffers to be written and memory to be released. After closing a new file can be associated to this handle again.</p>
<div class="fragment"><div class="line"><a class="code hl_struct" href="structdg_1_1file_1_1_m_p_i_nc_file.html">dg::file::NcFile</a> file;</div>
<div class="line">file.<a class="code hl_function" href="#a3c452dbe16eb43333f2df87af5da7e5e">open</a>(<span class="stringliteral">&quot;test.nc&quot;</span>, <a class="code hl_enumvalue" href="group__netcdf.html#gga069a80546769d282e7bf3ff44ee4aea7acb6819c73ab0466a37a958614672dd0c">dg::file::nc_noclobber</a>);</div>
<div class="line">CHECK( file.<a class="code hl_function" href="#a78c9eb451aa924539346c1760a83cb8c">is_open</a>());</div>
<div class="line">file.<a class="code hl_function" href="#adf74467eed8a6b7cfb3ae1c978089f02">close</a>();</div>
</div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>This function may throw    </dd>
<dd>
May invoke <code>MPI_Barrier</code> so that <code>file.open</code> with <code>nc_nowrite</code> can be called directly afterwards (the HDF-5 file-lock needs to be released) </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_adf74467eed8a6b7cfb3ae1c978089f02_cgraph.svg" width="348" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="afd445ddfb9e0fb0d5db6958d75b74237" name="afd445ddfb9e0fb0d5db6958d75b74237"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd445ddfb9e0fb0d5db6958d75b74237">&#9670;&#160;</a></span>communicator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MPI_Comm dg::file::MPINcFile::communicator </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return MPI communicator set in constructor. </p>

</div>
</div>
<a id="a6c4a2f38be64487507df28292967817d" name="a6c4a2f38be64487507df28292967817d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c4a2f38be64487507df28292967817d">&#9670;&#160;</a></span>def_dim()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dg::file::MPINcFile::def_dim </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Define a dimension named <code>name</code> of size <code>size</code>.    </p>
<dl class="section note"><dt>Note</dt><dd>Remember that dimensions do not have attributes or types, only variables and groups have attributes and only variables have types </dd>
<dd>
One often defines an associated <b>dimension variable</b> with the same name as the dimension. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>of the dimension. Cannot be the same name as a dimension name already existing in the current group </td></tr>
    <tr><td class="paramname">size</td><td>Size of the dimension to create. Use <code>NC_UNLIMITED</code> to create an unlimited dimension  </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>There are a couple of subtle issues related to <b>unlimited dimensions</b> in NetCDF. First of all, all variables that share a dimension in NetCDF have the same size along that dimension. Second, it is possible to write data to any index (the start value of the hyperslab in the unlimited dimension can be anything) of a variable with an unlimited dimension. For example you can do <div class="fragment"><div class="line">file.def_dim( <span class="stringliteral">&quot;time&quot;</span>, NC_UNLIMITED);</div>
<div class="line">file.def_var_as&lt;<span class="keywordtype">double</span>&gt;( <span class="stringliteral">&quot;var&quot;</span>, {<span class="stringliteral">&quot;time&quot;</span>}, {});</div>
<div class="line">file.put_var( <span class="stringliteral">&quot;var&quot;</span>, {5}, 42); <span class="comment">// perfectly legal</span></div>
</div><!-- fragment --> The size of an unlimited dimension is the maximum of the sizes of all variables that share this dimension. If you are trying to read a variable at a slice where data was never written, the NetCDF library just fills it up with Fill Values. However, trying to read beyond the size of the unlimited dimension will fail. If a user wants to keep all unlimited variables synchronised, they unfortunately have to keep track of which variable was written themselves: See <a href="https://github.com/Unidata/netcdf-c/issues/1898">NetCDF issue</a>     </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Dimensions are <b>visible</b> in a group and all of its subgroups. Now, a file can define multiple dimensions with the same name in subgroups. The dimension in the highest group will then hide the ones in the lower groups and e.g a call to <code>def_var</code> cannot currently use a dimension that is hidden in such a way even though the NetCDF-C API would allow to do it using the dimension ID. In contrast, <code>get_var_dims</code> may return dimension names that are actually hidden. It is therefore highly recommended to use unique names for all dimensions in the file. Furthermore, notice that while a dimension is visible in subgroups, its associated dimension variable is not. </dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>Paraview seems to have issues if dimensions in a subgrup in a NetCDF file are defined before any of the dimensions in the root group.       </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a6c4a2f38be64487507df28292967817d_cgraph.svg" width="348" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ae1c01f5cf648af661fcfe65438201c35" name="ae1c01f5cf648af661fcfe65438201c35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1c01f5cf648af661fcfe65438201c35">&#9670;&#160;</a></span>def_dimvar_as()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , class Attributes  = std::map&lt;std::string, nc_att_t&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dg::file::MPINcFile::def_dimvar_as </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Attributes &amp;</td>          <td class="paramname"><span class="paramname"><em>atts</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Define a dimension and dimension variable in one go.    </p>
<p>Short for </p><div class="fragment"><div class="line"><a class="code hl_function" href="#a6c4a2f38be64487507df28292967817d">def_dim</a>( name, size);</div>
<div class="line"><a class="code hl_function" href="#a2122c8fb7346d9993f7817977dd1d9c9">def_var_as&lt;T&gt;</a>( name, {name}, atts);</div>
<div class="ttc" id="astructdg_1_1file_1_1_m_p_i_nc_file_html_a2122c8fb7346d9993f7817977dd1d9c9"><div class="ttname"><a href="#a2122c8fb7346d9993f7817977dd1d9c9">dg::file::MPINcFile::def_var_as</a></div><div class="ttdeci">void def_var_as(std::string name, const std::vector&lt; std::string &gt; &amp;dim_names, const Attributes &amp;atts={})</div><div class="ttdoc">Define a variable with given type, dimensions and (optionally) attributes.</div><div class="ttdef"><b>Definition</b> nc_mpi_file.h:315</div></div>
<div class="ttc" id="astructdg_1_1file_1_1_m_p_i_nc_file_html_a6c4a2f38be64487507df28292967817d"><div class="ttname"><a href="#a6c4a2f38be64487507df28292967817d">dg::file::MPINcFile::def_dim</a></div><div class="ttdeci">void def_dim(std::string name, size_t size)</div><div class="ttdoc">Define a dimension named name of size size.</div><div class="ttdef"><b>Definition</b> nc_mpi_file.h:209</div></div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name of the dimension and associated dimension variable </td></tr>
    <tr><td class="paramname">size</td><td>Size of the dimension to create. Use <code>NC_UNLIMITED</code> to create an unlimited dimension </td></tr>
    <tr><td class="paramname">atts</td><td>Suggested attribute is "axis" : "T" which enable paraview to recognize the dimension as the time axis </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function is mainly intended to define an unlimited dimension as in <div class="fragment"><div class="line">file.def_dimvar_as&lt;<span class="keywordtype">double</span>&gt;( <span class="stringliteral">&quot;time&quot;</span>, NC_UNLIMITED, {{<span class="stringliteral">&quot;axis&quot;</span>, <span class="stringliteral">&quot;T&quot;</span>}});</div>
<div class="line">file.def_var_as&lt;<span class="keywordtype">double</span>&gt;( <span class="stringliteral">&quot;Energy&quot;</span>, {<span class="stringliteral">&quot;time&quot;</span>}, {{<span class="stringliteral">&quot;long_name&quot;</span>, <span class="stringliteral">&quot;Energy&quot;</span>}});</div>
<div class="line"><span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> i=0; i&lt;=6; i++)</div>
<div class="line">{</div>
<div class="line">    file.put_var(<span class="stringliteral">&quot;time&quot;</span>, {i}, i);</div>
<div class="line">    <span class="keywordflow">if</span>( i%2 == 0)</div>
<div class="line">        file.put_var( <span class="stringliteral">&quot;Energy&quot;</span>, {i}, i);</div>
<div class="line">}</div>
</div><!-- fragment -->  </dd></dl>
<dl class="section note"><dt>Note</dt><dd>There are a couple of subtle issues related to <b>unlimited dimensions</b> in NetCDF. First of all, all variables that share a dimension in NetCDF have the same size along that dimension. Second, it is possible to write data to any index (the start value of the hyperslab in the unlimited dimension can be anything) of a variable with an unlimited dimension. For example you can do <div class="fragment"><div class="line">file.def_dim( <span class="stringliteral">&quot;time&quot;</span>, NC_UNLIMITED);</div>
<div class="line">file.def_var_as&lt;<span class="keywordtype">double</span>&gt;( <span class="stringliteral">&quot;var&quot;</span>, {<span class="stringliteral">&quot;time&quot;</span>}, {});</div>
<div class="line">file.put_var( <span class="stringliteral">&quot;var&quot;</span>, {5}, 42); <span class="comment">// perfectly legal</span></div>
</div><!-- fragment --> The size of an unlimited dimension is the maximum of the sizes of all variables that share this dimension. If you are trying to read a variable at a slice where data was never written, the NetCDF library just fills it up with Fill Values. However, trying to read beyond the size of the unlimited dimension will fail. If a user wants to keep all unlimited variables synchronised, they unfortunately have to keep track of which variable was written themselves: See <a href="https://github.com/Unidata/netcdf-c/issues/1898">NetCDF issue</a>     </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Dimensions are <b>visible</b> in a group and all of its subgroups. Now, a file can define multiple dimensions with the same name in subgroups. The dimension in the highest group will then hide the ones in the lower groups and e.g a call to <code>def_var</code> cannot currently use a dimension that is hidden in such a way even though the NetCDF-C API would allow to do it using the dimension ID. In contrast, <code>get_var_dims</code> may return dimension names that are actually hidden. It is therefore highly recommended to use unique names for all dimensions in the file. Furthermore, notice that while a dimension is visible in subgroups, its associated dimension variable is not. </dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>Paraview seems to have issues if dimensions in a subgrup in a NetCDF file are defined before any of the dimensions in the root group.       </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_ae1c01f5cf648af661fcfe65438201c35_cgraph.svg" width="547" height="115"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aa26096f167a6560ab949af57cda72427" name="aa26096f167a6560ab949af57cda72427"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa26096f167a6560ab949af57cda72427">&#9670;&#160;</a></span>def_grp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dg::file::MPINcFile::def_grp </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>name</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p></p>
<p>Define a group named <code>name</code> in the current group</p>
<p>Groups can be thought of as directories in a NetCDF-4 file and we therefore use <code>std::filesystem::path</code> and use bash equivalent operations to manipulate them </p><div class="fragment"><div class="line">        <a class="code hl_struct" href="structdg_1_1file_1_1_m_p_i_nc_file.html">dg::file::NcFile</a> file( <span class="stringliteral">&quot;grps.nc&quot;</span>, <a class="code hl_enumvalue" href="group__netcdf.html#gga069a80546769d282e7bf3ff44ee4aea7a60be11bfc96aca3f79bf94cff4539923">dg::file::nc_clobber</a>);</div>
<div class="line">        <span class="comment">// mkdir subgroup</span></div>
<div class="line">        file.<a class="code hl_function" href="#aa26096f167a6560ab949af57cda72427">def_grp</a>( <span class="stringliteral">&quot;subgrp&quot;</span>);</div>
<div class="line">        <span class="comment">// cd subgroup</span></div>
<div class="line">        file.<a class="code hl_function" href="#a1140a548101026d93c10decd79e18602">set_grp</a>( <span class="stringliteral">&quot;subgrp&quot;</span>);</div>
<div class="line">        <span class="comment">// all subsequent calls will write to subgrp</span></div>
<div class="line">        file.<a class="code hl_function" href="#a32faa7c38409660f29d9955d9e850f1d">put_att</a>( {<span class="stringliteral">&quot;title&quot;</span>, <span class="stringliteral">&quot;This is a subgrp attribute&quot;</span>});</div>
<div class="line">        <span class="keyword">auto</span> path = file.<a class="code hl_function" href="#a324df27278d2b9d1c2078231df76b5c0">get_current_path</a>();</div>
<div class="line">        CHECK( path == <span class="stringliteral">&quot;/subgrp&quot;</span>);</div>
<div class="line">        <span class="comment">// mkdir -p</span></div>
<div class="line">        file.<a class="code hl_function" href="#a32c33999c5a57b6f7cc55c1bb434079c">def_grp_p</a>(<span class="stringliteral">&quot;/subgrp/subgrp2/subgrp3/subgrp4&quot;</span>);</div>
<div class="line">        CHECK( file.<a class="code hl_function" href="#a78f0b5dace4dda55fae1381b86d17a98">grp_is_defined</a>( <span class="stringliteral">&quot;/subgrp/subgrp2/subgrp3&quot;</span>));</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// cd ..</span></div>
<div class="line">        file.<a class="code hl_function" href="#a1140a548101026d93c10decd79e18602">set_grp</a>(<span class="stringliteral">&quot;..&quot;</span>); <span class="comment">// go to parent group</span></div>
<div class="line">        <span class="comment">// cd</span></div>
<div class="line">        file.<a class="code hl_function" href="#a1140a548101026d93c10decd79e18602">set_grp</a>(); <span class="comment">// go to root group</span></div>
<div class="line"> </div>
<div class="line">        <span class="comment">// mv subgrp sub</span></div>
<div class="line">        file.<a class="code hl_function" href="#a2db9d371937c5b08205096bc526663d6">rename_grp</a>( <span class="stringliteral">&quot;subgrp&quot;</span>, <span class="stringliteral">&quot;sub&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// ls</span></div>
<div class="line">        <span class="keyword">auto</span> subgrps = file.<a class="code hl_function" href="#a1d30a3f073d7b2e77d8a6a2c3ebf3060">get_grps</a>();</div>
<div class="line">        <span class="comment">// ls -R</span></div>
<div class="line">        <span class="keyword">auto</span> allgrps = file.<a class="code hl_function" href="#a0440c554cfc1d0842f587ee08f4aec7e">get_grps_r</a>();</div>
<div class="line"> </div>
<div class="line">        file.<a class="code hl_function" href="#adf74467eed8a6b7cfb3ae1c978089f02">close</a>();</div>
</div><!-- fragment --><p>   Think of this as the bash command <code>mkdir</code> name </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>of the new group </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Just like in a filesystem 2 nested groups with same name can exist but not 2 groups with the same name in the same group.    </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_aa26096f167a6560ab949af57cda72427_cgraph.svg" width="348" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a32c33999c5a57b6f7cc55c1bb434079c" name="a32c33999c5a57b6f7cc55c1bb434079c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32c33999c5a57b6f7cc55c1bb434079c">&#9670;&#160;</a></span>def_grp_p()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dg::file::MPINcFile::def_grp_p </td>
          <td>(</td>
          <td class="paramtype">std::filesystem::path</td>          <td class="paramname"><span class="paramname"><em>path</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p></p>
<p>Define a group named <code>path</code> and all required intermediary groups</p>
<p>Groups can be thought of as directories in a NetCDF-4 file and we therefore use <code>std::filesystem::path</code> and use bash equivalent operations to manipulate them </p><div class="fragment"><div class="line">        <a class="code hl_struct" href="structdg_1_1file_1_1_m_p_i_nc_file.html">dg::file::NcFile</a> file( <span class="stringliteral">&quot;grps.nc&quot;</span>, <a class="code hl_enumvalue" href="group__netcdf.html#gga069a80546769d282e7bf3ff44ee4aea7a60be11bfc96aca3f79bf94cff4539923">dg::file::nc_clobber</a>);</div>
<div class="line">        <span class="comment">// mkdir subgroup</span></div>
<div class="line">        file.<a class="code hl_function" href="#aa26096f167a6560ab949af57cda72427">def_grp</a>( <span class="stringliteral">&quot;subgrp&quot;</span>);</div>
<div class="line">        <span class="comment">// cd subgroup</span></div>
<div class="line">        file.<a class="code hl_function" href="#a1140a548101026d93c10decd79e18602">set_grp</a>( <span class="stringliteral">&quot;subgrp&quot;</span>);</div>
<div class="line">        <span class="comment">// all subsequent calls will write to subgrp</span></div>
<div class="line">        file.<a class="code hl_function" href="#a32faa7c38409660f29d9955d9e850f1d">put_att</a>( {<span class="stringliteral">&quot;title&quot;</span>, <span class="stringliteral">&quot;This is a subgrp attribute&quot;</span>});</div>
<div class="line">        <span class="keyword">auto</span> path = file.<a class="code hl_function" href="#a324df27278d2b9d1c2078231df76b5c0">get_current_path</a>();</div>
<div class="line">        CHECK( path == <span class="stringliteral">&quot;/subgrp&quot;</span>);</div>
<div class="line">        <span class="comment">// mkdir -p</span></div>
<div class="line">        file.<a class="code hl_function" href="#a32c33999c5a57b6f7cc55c1bb434079c">def_grp_p</a>(<span class="stringliteral">&quot;/subgrp/subgrp2/subgrp3/subgrp4&quot;</span>);</div>
<div class="line">        CHECK( file.<a class="code hl_function" href="#a78f0b5dace4dda55fae1381b86d17a98">grp_is_defined</a>( <span class="stringliteral">&quot;/subgrp/subgrp2/subgrp3&quot;</span>));</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// cd ..</span></div>
<div class="line">        file.<a class="code hl_function" href="#a1140a548101026d93c10decd79e18602">set_grp</a>(<span class="stringliteral">&quot;..&quot;</span>); <span class="comment">// go to parent group</span></div>
<div class="line">        <span class="comment">// cd</span></div>
<div class="line">        file.<a class="code hl_function" href="#a1140a548101026d93c10decd79e18602">set_grp</a>(); <span class="comment">// go to root group</span></div>
<div class="line"> </div>
<div class="line">        <span class="comment">// mv subgrp sub</span></div>
<div class="line">        file.<a class="code hl_function" href="#a2db9d371937c5b08205096bc526663d6">rename_grp</a>( <span class="stringliteral">&quot;subgrp&quot;</span>, <span class="stringliteral">&quot;sub&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// ls</span></div>
<div class="line">        <span class="keyword">auto</span> subgrps = file.<a class="code hl_function" href="#a1d30a3f073d7b2e77d8a6a2c3ebf3060">get_grps</a>();</div>
<div class="line">        <span class="comment">// ls -R</span></div>
<div class="line">        <span class="keyword">auto</span> allgrps = file.<a class="code hl_function" href="#a0440c554cfc1d0842f587ee08f4aec7e">get_grps_r</a>();</div>
<div class="line"> </div>
<div class="line">        file.<a class="code hl_function" href="#adf74467eed8a6b7cfb3ae1c978089f02">close</a>();</div>
</div><!-- fragment --><p>   Think of this as the bash command <code>mkdir</code> -p path </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>of the new group. Can be absolute or relative to the current group </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Just like in a filesystem 2 nested groups with same name can exist but not 2 groups with the same name in the same group.    </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a32c33999c5a57b6f7cc55c1bb434079c_cgraph.svg" width="547" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a258f0e4c25a918ebb3d196b49943367f" name="a258f0e4c25a918ebb3d196b49943367f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a258f0e4c25a918ebb3d196b49943367f">&#9670;&#160;</a></span>def_var()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Attributes  = std::map&lt;std::string, nc_att_t&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dg::file::MPINcFile::def_var </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">nc_type</td>          <td class="paramname"><span class="paramname"><em>xtype</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>dim_names</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Attributes &amp;</td>          <td class="paramname"><span class="paramname"><em>atts</em></span><span class="paramdefsep"> = </span><span class="paramdefval">{}</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Define a variable with given type, dimensions and (optionally) attributes.    </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name of the variable to define </td></tr>
    <tr><td class="paramname">xtype</td><td>NetCDF typeid </td></tr>
    <tr><td class="paramname">dim_names</td><td>Names of visible dimensions in the current group Can be empty which makes the defined variable a scalar w/o dimensions.  </td></tr>
  </table>
  </dd>
</dl>
<dl class="section attention"><dt>Attention</dt><dd>When writing variables, NetCDF-C always assumes that the last dimension of the NetCDF variable varies fastest in the given array. This is in contrast to the default behaviour of our <code>dg::evaluate</code> function, which produces vectors where the first dimension of the given grid varies fastest. Thus, when defining variable dimensions the dimension name of the first grid dimension needs to come last. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The unlimited dimension, if present, must be the first dimension.     </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Dimensions are <b>visible</b> in a group and all of its subgroups. Now, a file can define multiple dimensions with the same name in subgroups. The dimension in the highest group will then hide the ones in the lower groups and e.g a call to <code>def_var</code> cannot currently use a dimension that is hidden in such a way even though the NetCDF-C API would allow to do it using the dimension ID. In contrast, <code>get_var_dims</code> may return dimension names that are actually hidden. It is therefore highly recommended to use unique names for all dimensions in the file. Furthermore, notice that while a dimension is visible in subgroups, its associated dimension variable is not. </dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>Paraview seems to have issues if dimensions in a subgrup in a NetCDF file are defined before any of the dimensions in the root group.    </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">atts</td><td>Attributes to put for the variable </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function overload is useful if you want to use a compound type    </dd></dl>

</div>
</div>
<a id="a2122c8fb7346d9993f7817977dd1d9c9" name="a2122c8fb7346d9993f7817977dd1d9c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2122c8fb7346d9993f7817977dd1d9c9">&#9670;&#160;</a></span>def_var_as()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , class Attributes  = std::map&lt;std::string, nc_att_t&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dg::file::MPINcFile::def_var_as </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>dim_names</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Attributes &amp;</td>          <td class="paramname"><span class="paramname"><em>atts</em></span><span class="paramdefsep"> = </span><span class="paramdefval">{}</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Define a variable with given type, dimensions and (optionally) attributes.    </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name of the variable to define </td></tr>
    <tr><td class="paramname">dim_names</td><td>Names of visible dimensions in the current group. Can be empty which makes the defined variable a scalar w/o dimensions.  </td></tr>
  </table>
  </dd>
</dl>
<dl class="section attention"><dt>Attention</dt><dd>When writing variables, NetCDF-C always assumes that the last dimension of the NetCDF variable varies fastest in the given array. This is in contrast to the default behaviour of our <code>dg::evaluate</code> function, which produces vectors where the first dimension of the given grid varies fastest. Thus, when defining variable dimensions the dimension name of the first grid dimension needs to come last. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The unlimited dimension, if present, must be the first dimension.     </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Dimensions are <b>visible</b> in a group and all of its subgroups. Now, a file can define multiple dimensions with the same name in subgroups. The dimension in the highest group will then hide the ones in the lower groups and e.g a call to <code>def_var</code> cannot currently use a dimension that is hidden in such a way even though the NetCDF-C API would allow to do it using the dimension ID. In contrast, <code>get_var_dims</code> may return dimension names that are actually hidden. It is therefore highly recommended to use unique names for all dimensions in the file. Furthermore, notice that while a dimension is visible in subgroups, its associated dimension variable is not. </dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>Paraview seems to have issues if dimensions in a subgrup in a NetCDF file are defined before any of the dimensions in the root group.    </dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>set the type of the variable </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">atts</td><td>Attributes to put for the variable</td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line">std::map&lt;std::string, dg::file::nc_att_t&gt; atts = {{<span class="stringliteral">&quot;axis&quot;</span>, <span class="stringliteral">&quot;T&quot;</span>}};</div>
<div class="line">file.<a class="code hl_function" href="#a2122c8fb7346d9993f7817977dd1d9c9">def_var_as</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;another&quot;</span>, {<span class="stringliteral">&quot;time&quot;</span>}, atts);</div>
<div class="line">att = file.<a class="code hl_function" href="#a7435c5d3aa157b5c39fd3ab88c3b1871">get_att_as</a>&lt;std::string&gt;( <span class="stringliteral">&quot;axis&quot;</span>, <span class="stringliteral">&quot;another&quot;</span>);</div>
<div class="line">CHECK( att == <span class="stringliteral">&quot;T&quot;</span>);</div>
</div><!-- fragment -->   
</div>
</div>
<a id="a8b85e0725d2f4bac2ddefd321fcb5251" name="a8b85e0725d2f4bac2ddefd321fcb5251"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b85e0725d2f4bac2ddefd321fcb5251">&#9670;&#160;</a></span>defput_dim()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ContainerType , class Attributes  = std::map&lt;std::string, nc_att_t&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dg::file::MPINcFile::defput_dim </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Attributes &amp;</td>          <td class="paramname"><span class="paramname"><em>atts</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const MPI_Vector&lt; ContainerType &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>abscissas</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Define a dimension and define and write to a dimension variable in one go.    </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name of the dimension and associated dimension variable </td></tr>
    <tr><td class="paramname">atts</td><td>Suggested attributes is for example "axis" : "X" which enable paraview to recognize the dimension as the x axis and "long_name" : "X-coordinate in Cartesian coordinates" </td></tr>
    <tr><td class="paramname">abscissas</td><td>values to write to the dimension variable (the dimension size is inferred from <code>abscissas.size()</code> and the type is inferred from <code>ContainerType</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function is mainly intended to define dimensions from a grid as in <div class="fragment"><div class="line">    <span class="comment">// Generate a grid</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">double</span> x0 = 0., x1 = 2.*M_PI;</div>
<div class="line">    dg::x::CartesianGrid2d grid( x0,x1,x0,x1,3,10,10</div>
<div class="line">#ifdef WITH_MPI</div>
<div class="line">    , comm</div>
<div class="line">#endif</div>
<div class="line">    );</div>
<div class="line">    <span class="comment">// and put dimensions to file</span></div>
<div class="line">    file.defput_dim( <span class="stringliteral">&quot;x&quot;</span>, {{<span class="stringliteral">&quot;axis&quot;</span>, <span class="stringliteral">&quot;X&quot;</span>},</div>
<div class="line">        {<span class="stringliteral">&quot;long_name&quot;</span>, <span class="stringliteral">&quot;x-coordinate in Cartesian system&quot;</span>}},</div>
<div class="line">        grid.abscissas(0));</div>
<div class="line">    file.defput_dim( <span class="stringliteral">&quot;y&quot;</span>, {{<span class="stringliteral">&quot;axis&quot;</span>, <span class="stringliteral">&quot;Y&quot;</span>},</div>
<div class="line">        {<span class="stringliteral">&quot;long_name&quot;</span>, <span class="stringliteral">&quot;y-coordinate in Cartesian system&quot;</span>}},</div>
<div class="line">        grid.abscissas(1));</div>
</div><!-- fragment -->  </dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">ContainerType</td><td>May be anything that <code>dg::get_tensor_category</code> recognises as a <code>dg::SharedVectorTag</code>. In <code>defput*</code> members the value type determines the NetCDF type of the variable to define </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>In both <code>put*</code> and <code>get*</code> members it is possible for <code>data</code> to have a different value type from the defined value type of the variable that is being written/read, the NetCDF C-API simply converts it to the requested type. For example a variable declared as <code>NC_DOUBLE</code> can be read as/written from integer or float and vice versa.      </dd>
<dd>
We use <code>MPI_Reduce</code> with <code>abscissas.size()</code> and <code>abscissas.communicator()</code> to get the size of the dimension in MPI. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a8b85e0725d2f4bac2ddefd321fcb5251_cgraph.svg" width="734" height="147"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a879a2ad4b306cb51536eb1cb7c70bf51" name="a879a2ad4b306cb51536eb1cb7c70bf51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a879a2ad4b306cb51536eb1cb7c70bf51">&#9670;&#160;</a></span>defput_var()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ContainerType , class Attributes  = std::map&lt;std::string, nc_att_t&gt;, typename  = std::enable_if_t&lt;        dg::is_vector_v&lt;ContainerType, dg::SharedVectorTag&gt; or        dg::is_vector_v&lt;ContainerType, dg::MPIVectorTag&gt;&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dg::file::MPINcFile::defput_var </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>dim_names</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Attributes &amp;</td>          <td class="paramname"><span class="paramname"><em>atts</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdg_1_1file_1_1_m_p_i_nc_hyperslab.html">MPINcHyperslab</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>slab</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ContainerType &amp;</td>          <td class="paramname"><span class="paramname"><em>data</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Define and put a variable in one go.    </p>
<p>Very convenient to "just write" a variable to a file: </p><div class="fragment"><div class="line"><span class="comment">// Generate some data and write to file</span></div>
<div class="line">dg::x::HVec data = dg::evaluate( function, grid);</div>
<div class="line"><span class="comment">// Defne and write a variable in one go</span></div>
<div class="line">file.defput_var( <span class="stringliteral">&quot;variable&quot;</span>, {<span class="stringliteral">&quot;y&quot;</span>, <span class="stringliteral">&quot;x&quot;</span>},</div>
<div class="line">            {{<span class="stringliteral">&quot;long_name&quot;</span>, <span class="stringliteral">&quot;A long explanation&quot;</span>}, {<span class="stringliteral">&quot;unit&quot;</span>, <span class="stringliteral">&quot;m/s&quot;</span>}},</div>
<div class="line">            grid, data);</div>
</div><!-- fragment --><p>Short for </p><div class="fragment"><div class="line"><a class="code hl_function" href="#a2122c8fb7346d9993f7817977dd1d9c9">def_var_as&lt;dg::get_value_type&lt;ContainerType&gt;</a>&gt;( name, dim_names, atts);</div>
<div class="line"><a class="code hl_function" href="#a491de7aac14cf3f245168c96f54ae06a">put_var</a>( name, slab, data);</div>
<div class="ttc" id="astructdg_1_1file_1_1_m_p_i_nc_file_html_a491de7aac14cf3f245168c96f54ae06a"><div class="ttname"><a href="#a491de7aac14cf3f245168c96f54ae06a">dg::file::MPINcFile::put_var</a></div><div class="ttdeci">void put_var(std::string name, const MPINcHyperslab &amp;slab, const ContainerType &amp;data)</div><div class="ttdoc">Write data to a variable.</div><div class="ttdef"><b>Definition</b> nc_mpi_file.h:338</div></div>
</div><!-- fragment -->    <div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a879a2ad4b306cb51536eb1cb7c70bf51_cgraph.svg" width="535" height="115"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a1e22484634ec392332e009eedfa9dfe5" name="a1e22484634ec392332e009eedfa9dfe5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e22484634ec392332e009eedfa9dfe5">&#9670;&#160;</a></span>del_att()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dg::file::MPINcFile::del_att </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>att_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>id</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;&quot;</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove an attribute named <code>att_name</code> from variable <code>id</code>.    </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">att_name</td><td>Attribute to delete </td></tr>
    <tr><td class="paramname">id</td><td>Variable name in the current group or empty string, in which case the attributes refer to the current group </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Attributes are the only thing you can delete in a NetCDF file. You cannot delete variables or dimensions or groups</dd></dl>
<div class="fragment"><div class="line">file.<a class="code hl_function" href="#a32faa7c38409660f29d9955d9e850f1d">put_att</a>({<span class="stringliteral">&quot;same&quot;</span>, <span class="stringliteral">&quot;thing&quot;</span>});</div>
<div class="line">CHECK( file.<a class="code hl_function" href="#a2768320aa13d39b6ff9c00a0ff54ccc9">att_is_defined</a>( <span class="stringliteral">&quot;same&quot;</span>));</div>
<div class="line">file.<a class="code hl_function" href="#a1e22484634ec392332e009eedfa9dfe5">del_att</a>( <span class="stringliteral">&quot;same&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line">CHECK( not file.<a class="code hl_function" href="#a2768320aa13d39b6ff9c00a0ff54ccc9">att_is_defined</a>( <span class="stringliteral">&quot;same&quot;</span>));</div>
</div><!-- fragment -->   <div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a1e22484634ec392332e009eedfa9dfe5_cgraph.svg" width="348" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="af7124fd35d705525c044cd1c7c0698b7" name="af7124fd35d705525c044cd1c7c0698b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7124fd35d705525c044cd1c7c0698b7">&#9670;&#160;</a></span>dim_is_defined()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dg::file::MPINcFile::dim_is_defined </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>name</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p></p>
<p>Check for existence of the dimension named <code>name</code> </p><div class="fragment"><div class="line"><span class="comment">// This is how to fully check a dimension</span></div>
<div class="line">std::map&lt;std::string, int&gt; map {{<span class="stringliteral">&quot;x&quot;</span>,0}, {<span class="stringliteral">&quot;y&quot;</span>,1}, {<span class="stringliteral">&quot;z&quot;</span>, 2}};</div>
<div class="line"><span class="keywordflow">for</span>( <span class="keyword">auto</span> str : map)</div>
<div class="line">{</div>
<div class="line">    CHECK( read.dim_is_defined( str.first));</div>
<div class="line">    CHECK( read.var_is_defined( str.first));</div>
<div class="line">    CHECK( read.get_dim_size( str.first) == grid.shape(str.second));</div>
<div class="line">    <span class="keyword">auto</span> abs = grid.abscissas(str.second) , test(abs);</div>
<div class="line">    <span class="comment">// In MPI when mode == nc_write only the group containing rank 0 in file comm reads</span></div>
<div class="line">    read.get_var( str.first, {grid.axis(str.second)}, test);</div>
<div class="line">    dg::blas1::axpby( 1.,abs,-1., test);</div>
<div class="line">    <span class="keywordtype">double</span> result = sqrt(dg::blas1::dot( test, test));</div>
<div class="line">    CHECK( result &lt; 1e-15);</div>
<div class="line">}</div>
<div class="line">read.close();</div>
</div><!-- fragment -->   <div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_af7124fd35d705525c044cd1c7c0698b7_cgraph.svg" width="348" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a7435c5d3aa157b5c39fd3ab88c3b1871" name="a7435c5d3aa157b5c39fd3ab88c3b1871"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7435c5d3aa157b5c39fd3ab88c3b1871">&#9670;&#160;</a></span>get_att_as()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T dg::file::MPINcFile::get_att_as </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>att_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>id</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;&quot;</span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get an attribute named <code>att_name</code> of the group or variable <code>id</code>.    </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>Any type in <code><a class="el" href="group__netcdf.html#ga73aa8fc2c366b0e640bd483c73910c79" title="Utility type to simplify dealing with heterogeneous attribute types.">dg::file::nc_att_t</a></code> or <code>nc_att_t</code> in which case the type specific nc attribute getters are called or <code>std::vector&lt;type&gt;</code> in which case the general <code>nc_get_att</code> is called </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">att_name</td><td>Name of the attribute </td></tr>
    <tr><td class="paramname">id</td><td>Variable name in the current group or empty string, in which case the attribute refers to the current group </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Attribute cast to type <code>T</code> <div class="fragment"><div class="line">file.<a class="code hl_function" href="#a32faa7c38409660f29d9955d9e850f1d">put_att</a>( std::tuple{<span class="stringliteral">&quot;half truth&quot;</span>, NC_INT, 21});</div>
<div class="line"><span class="keywordtype">int</span> half = file.<a class="code hl_function" href="#a7435c5d3aa157b5c39fd3ab88c3b1871">get_att_as</a>&lt;<span class="keywordtype">int</span>&gt;( <span class="stringliteral">&quot;half truth&quot;</span>);</div>
<div class="line">CHECK( half == 21);</div>
</div><!-- fragment -->   </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a7435c5d3aa157b5c39fd3ab88c3b1871_cgraph.svg" width="348" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a6e3714f60f6d540cc351850f541af8e5" name="a6e3714f60f6d540cc351850f541af8e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e3714f60f6d540cc351850f541af8e5">&#9670;&#160;</a></span>get_att_vec_as()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; T &gt; dg::file::MPINcFile::get_att_vec_as </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>att_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>id</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;&quot;</span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Short for <code> get_att_as&lt;std::vector&lt;T&gt;&gt;( id, att_name);</code>    </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a6e3714f60f6d540cc351850f541af8e5_cgraph.svg" width="547" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a1310be2cf0ca0d8828d329d351681b28" name="a1310be2cf0ca0d8828d329d351681b28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1310be2cf0ca0d8828d329d351681b28">&#9670;&#160;</a></span>get_atts()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; std::string, <a class="el" href="group__netcdf.html#ga73aa8fc2c366b0e640bd483c73910c79">nc_att_t</a> &gt; dg::file::MPINcFile::get_atts </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>id</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;&quot;</span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p></p>
<p>Short for <code> get_atts_as&lt;nc_att_t&gt;( id) </code> </p><div class="fragment"><div class="line">std::map&lt;std::string, dg::file::nc_att_t&gt; att;</div>
<div class="line">att[<span class="stringliteral">&quot;text&quot;</span>] = <span class="stringliteral">&quot;Hello World!&quot;</span>;</div>
<div class="line">att[<span class="stringliteral">&quot;number&quot;</span>] = 3e-4;</div>
<div class="line">att[<span class="stringliteral">&quot;int&quot;</span>] = -1;</div>
<div class="line">att[<span class="stringliteral">&quot;uint&quot;</span>] = 10;</div>
<div class="line">att[<span class="stringliteral">&quot;bool&quot;</span>] = <span class="keyword">true</span>;</div>
<div class="line">att[<span class="stringliteral">&quot;realarray&quot;</span>]  = std::vector{-1.1, 42.3};</div>
<div class="line">att[<span class="stringliteral">&quot;realarray&quot;</span>]  = std::vector{-1.1, 42.3};</div>
<div class="line">att[<span class="stringliteral">&quot;realnumber&quot;</span>] = -1.1;</div>
<div class="line">att[<span class="stringliteral">&quot;intarray&quot;</span>]   = std::vector{-11, 423};</div>
<div class="line">att[<span class="stringliteral">&quot;uintarray&quot;</span>]  = std::vector{11, 423};</div>
<div class="line">att[<span class="stringliteral">&quot;boolarray&quot;</span>]  = std::vector{<span class="keyword">true</span>, <span class="keyword">false</span>};</div>
<div class="line">file.<a class="code hl_function" href="#a03ed2b7546bcb152afb0ac395fac604d">put_atts</a>(att);</div>
<div class="line">file.<a class="code hl_function" href="#adf74467eed8a6b7cfb3ae1c978089f02">close</a>();</div>
<div class="line"><span class="keyword">auto</span> mode = GENERATE( <a class="code hl_enumvalue" href="group__netcdf.html#gga069a80546769d282e7bf3ff44ee4aea7a6e9534c8fd3f871d81a984f0fd0a7f0f">dg::file::nc_nowrite</a>, <a class="code hl_enumvalue" href="group__netcdf.html#gga069a80546769d282e7bf3ff44ee4aea7ab26f423495fc49c2566ad28fed7076b5">dg::file::nc_write</a>);</div>
<div class="line">file.<a class="code hl_function" href="#a3c452dbe16eb43333f2df87af5da7e5e">open</a>( <span class="stringliteral">&quot;attributes.nc&quot;</span>, mode);</div>
<div class="line"><span class="keyword">auto</span> read = file.<a class="code hl_function" href="#a1310be2cf0ca0d8828d329d351681b28">get_atts</a>();</div>
<div class="line">CHECK( read == att);</div>
</div><!-- fragment -->   <div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a1310be2cf0ca0d8828d329d351681b28_cgraph.svg" width="535" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="acc40345cc11a42fb5ce79817e40756f1" name="acc40345cc11a42fb5ce79817e40756f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc40345cc11a42fb5ce79817e40756f1">&#9670;&#160;</a></span>get_atts_as()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; std::string, T &gt; dg::file::MPINcFile::get_atts_as </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>id</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;&quot;</span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read all NetCDF attributes of a certain type.    </p>
<p>For example </p><dl class="section note"><dt>Note</dt><dd>byte attributes are mapped to boolean values (0b for true, 1b for false) </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>A Dictionary containing all the attributes of a certain type for the variable or file. Can be empty if no attribute is present. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Variable name in the current group or empty string, in which case the attributes refer to the current group </td></tr>
  </table>
  </dd>
</dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>can be a primitive type like <code>int</code> or <code>double</code> or a vector thereof <code>std::vector&lt;int&gt;</code> or a <code><a class="el" href="group__netcdf.html#ga73aa8fc2c366b0e640bd483c73910c79" title="Utility type to simplify dealing with heterogeneous attribute types.">dg::file::nc_att_t</a></code> in which case attributes of heterogeneous types are captured    </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_acc40345cc11a42fb5ce79817e40756f1_cgraph.svg" width="348" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a324df27278d2b9d1c2078231df76b5c0" name="a324df27278d2b9d1c2078231df76b5c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a324df27278d2b9d1c2078231df76b5c0">&#9670;&#160;</a></span>get_current_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::filesystem::path dg::file::MPINcFile::get_current_path </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the absolute path of the current group.    </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a324df27278d2b9d1c2078231df76b5c0_cgraph.svg" width="350" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aaa396d4d97bbb84b8a57a5a3920f5735" name="aaa396d4d97bbb84b8a57a5a3920f5735"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa396d4d97bbb84b8a57a5a3920f5735">&#9670;&#160;</a></span>get_dim_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t dg::file::MPINcFile::get_dim_size </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>name</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the size of the dimension named <code>name</code>.    </p>
<div class="fragment"><div class="line"><span class="keywordtype">unsigned</span> NT = file.get_dim_size( <span class="stringliteral">&quot;time&quot;</span>);</div>
<div class="line">CHECK( NT == 3);</div>
</div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>The size of an unlimited dimension is the maximum of the sizes of all variables that share this dimension.  </dd></dl>
<dl class="section note"><dt>Note</dt><dd>There are a couple of subtle issues related to <b>unlimited dimensions</b> in NetCDF. First of all, all variables that share a dimension in NetCDF have the same size along that dimension. Second, it is possible to write data to any index (the start value of the hyperslab in the unlimited dimension can be anything) of a variable with an unlimited dimension. For example you can do <div class="fragment"><div class="line">file.def_dim( <span class="stringliteral">&quot;time&quot;</span>, NC_UNLIMITED);</div>
<div class="line">file.def_var_as&lt;<span class="keywordtype">double</span>&gt;( <span class="stringliteral">&quot;var&quot;</span>, {<span class="stringliteral">&quot;time&quot;</span>}, {});</div>
<div class="line">file.put_var( <span class="stringliteral">&quot;var&quot;</span>, {5}, 42); <span class="comment">// perfectly legal</span></div>
</div><!-- fragment --> The size of an unlimited dimension is the maximum of the sizes of all variables that share this dimension. If you are trying to read a variable at a slice where data was never written, the NetCDF library just fills it up with Fill Values. However, trying to read beyond the size of the unlimited dimension will fail. If a user wants to keep all unlimited variables synchronised, they unfortunately have to keep track of which variable was written themselves: See <a href="https://github.com/Unidata/netcdf-c/issues/1898">NetCDF issue</a>       </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_aaa396d4d97bbb84b8a57a5a3920f5735_cgraph.svg" width="348" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a20a42319b89422036ef3af2128b62f4d" name="a20a42319b89422036ef3af2128b62f4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20a42319b89422036ef3af2128b62f4d">&#9670;&#160;</a></span>get_dims()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; dg::file::MPINcFile::get_dims </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>include_parents</em></span><span class="paramdefsep"> = </span><span class="paramdefval">true</span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p></p>
<p>Get all visible dimension names in the current group</p>
<p>The visible dimensions are all the dimensions in the current group and all its parent group.  </p>
<dl class="section note"><dt>Note</dt><dd>Dimensions are <b>visible</b> in a group and all of its subgroups. Now, a file can define multiple dimensions with the same name in subgroups. The dimension in the highest group will then hide the ones in the lower groups and e.g a call to <code>def_var</code> cannot currently use a dimension that is hidden in such a way even though the NetCDF-C API would allow to do it using the dimension ID. In contrast, <code>get_var_dims</code> may return dimension names that are actually hidden. It is therefore highly recommended to use unique names for all dimensions in the file. Furthermore, notice that while a dimension is visible in subgroups, its associated dimension variable is not. </dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>Paraview seems to have issues if dimensions in a subgrup in a NetCDF file are defined before any of the dimensions in the root group.    </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">include_parents</td><td>per default the parent groups will be included in the search for dimensions, if <code>false</code> they are excluded </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>All visible dimension names. Hidden names do not appear. <div class="fragment"><div class="line"><span class="keyword">auto</span> dims = file.<a class="code hl_function" href="#a20a42319b89422036ef3af2128b62f4d">get_dims</a>( );</div>
<div class="line">std::vector&lt;std::string&gt; result = {<span class="stringliteral">&quot;x&quot;</span>, <span class="stringliteral">&quot;y&quot;</span>, <span class="stringliteral">&quot;time&quot;</span>};</div>
<div class="line">CHECK( dims == result);</div>
</div><!-- fragment -->   </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a20a42319b89422036ef3af2128b62f4d_cgraph.svg" width="348" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a866fb61e44964f9bb40b11c9caafec35" name="a866fb61e44964f9bb40b11c9caafec35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a866fb61e44964f9bb40b11c9caafec35">&#9670;&#160;</a></span>get_dims_shape()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; size_t &gt; dg::file::MPINcFile::get_dims_shape </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>dims</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the size of each dimension in <code>dims</code>.    </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a866fb61e44964f9bb40b11c9caafec35_cgraph.svg" width="547" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="add8b09defd5e88de6e0379d6aa7a2c65" name="add8b09defd5e88de6e0379d6aa7a2c65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add8b09defd5e88de6e0379d6aa7a2c65">&#9670;&#160;</a></span>get_grpid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int dg::file::MPINcFile::get_grpid </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the NetCDF-C ID of the current group.    </p>
<p>In MPI all ranks get a grpid but only rank 0 can actually use it, except for <code>nc_nowrite</code> when every rank can use it </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_add8b09defd5e88de6e0379d6aa7a2c65_cgraph.svg" width="348" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a1d30a3f073d7b2e77d8a6a2c3ebf3060" name="a1d30a3f073d7b2e77d8a6a2c3ebf3060"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d30a3f073d7b2e77d8a6a2c3ebf3060">&#9670;&#160;</a></span>get_grps()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; std::filesystem::path &gt; dg::file::MPINcFile::get_grps </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p></p>
<p>Get all subgroups in the current group as absolute paths  </p>
<p>Groups can be thought of as directories in a NetCDF-4 file and we therefore use <code>std::filesystem::path</code> and use bash equivalent operations to manipulate them </p><div class="fragment"><div class="line">        <a class="code hl_struct" href="structdg_1_1file_1_1_m_p_i_nc_file.html">dg::file::NcFile</a> file( <span class="stringliteral">&quot;grps.nc&quot;</span>, <a class="code hl_enumvalue" href="group__netcdf.html#gga069a80546769d282e7bf3ff44ee4aea7a60be11bfc96aca3f79bf94cff4539923">dg::file::nc_clobber</a>);</div>
<div class="line">        <span class="comment">// mkdir subgroup</span></div>
<div class="line">        file.<a class="code hl_function" href="#aa26096f167a6560ab949af57cda72427">def_grp</a>( <span class="stringliteral">&quot;subgrp&quot;</span>);</div>
<div class="line">        <span class="comment">// cd subgroup</span></div>
<div class="line">        file.<a class="code hl_function" href="#a1140a548101026d93c10decd79e18602">set_grp</a>( <span class="stringliteral">&quot;subgrp&quot;</span>);</div>
<div class="line">        <span class="comment">// all subsequent calls will write to subgrp</span></div>
<div class="line">        file.<a class="code hl_function" href="#a32faa7c38409660f29d9955d9e850f1d">put_att</a>( {<span class="stringliteral">&quot;title&quot;</span>, <span class="stringliteral">&quot;This is a subgrp attribute&quot;</span>});</div>
<div class="line">        <span class="keyword">auto</span> path = file.<a class="code hl_function" href="#a324df27278d2b9d1c2078231df76b5c0">get_current_path</a>();</div>
<div class="line">        CHECK( path == <span class="stringliteral">&quot;/subgrp&quot;</span>);</div>
<div class="line">        <span class="comment">// mkdir -p</span></div>
<div class="line">        file.<a class="code hl_function" href="#a32c33999c5a57b6f7cc55c1bb434079c">def_grp_p</a>(<span class="stringliteral">&quot;/subgrp/subgrp2/subgrp3/subgrp4&quot;</span>);</div>
<div class="line">        CHECK( file.<a class="code hl_function" href="#a78f0b5dace4dda55fae1381b86d17a98">grp_is_defined</a>( <span class="stringliteral">&quot;/subgrp/subgrp2/subgrp3&quot;</span>));</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// cd ..</span></div>
<div class="line">        file.<a class="code hl_function" href="#a1140a548101026d93c10decd79e18602">set_grp</a>(<span class="stringliteral">&quot;..&quot;</span>); <span class="comment">// go to parent group</span></div>
<div class="line">        <span class="comment">// cd</span></div>
<div class="line">        file.<a class="code hl_function" href="#a1140a548101026d93c10decd79e18602">set_grp</a>(); <span class="comment">// go to root group</span></div>
<div class="line"> </div>
<div class="line">        <span class="comment">// mv subgrp sub</span></div>
<div class="line">        file.<a class="code hl_function" href="#a2db9d371937c5b08205096bc526663d6">rename_grp</a>( <span class="stringliteral">&quot;subgrp&quot;</span>, <span class="stringliteral">&quot;sub&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// ls</span></div>
<div class="line">        <span class="keyword">auto</span> subgrps = file.<a class="code hl_function" href="#a1d30a3f073d7b2e77d8a6a2c3ebf3060">get_grps</a>();</div>
<div class="line">        <span class="comment">// ls -R</span></div>
<div class="line">        <span class="keyword">auto</span> allgrps = file.<a class="code hl_function" href="#a0440c554cfc1d0842f587ee08f4aec7e">get_grps_r</a>();</div>
<div class="line"> </div>
<div class="line">        file.<a class="code hl_function" href="#adf74467eed8a6b7cfb3ae1c978089f02">close</a>();</div>
</div><!-- fragment -->      <div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a1d30a3f073d7b2e77d8a6a2c3ebf3060_cgraph.svg" width="348" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a0440c554cfc1d0842f587ee08f4aec7e" name="a0440c554cfc1d0842f587ee08f4aec7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0440c554cfc1d0842f587ee08f4aec7e">&#9670;&#160;</a></span>get_grps_r()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; std::filesystem::path &gt; dg::file::MPINcFile::get_grps_r </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get all subgroups recursively in the current group as absolute paths.    </p>
<p>Think of this as <code>ls</code> -R  </p>
<p>Groups can be thought of as directories in a NetCDF-4 file and we therefore use <code>std::filesystem::path</code> and use bash equivalent operations to manipulate them </p><div class="fragment"><div class="line">        <a class="code hl_struct" href="structdg_1_1file_1_1_m_p_i_nc_file.html">dg::file::NcFile</a> file( <span class="stringliteral">&quot;grps.nc&quot;</span>, <a class="code hl_enumvalue" href="group__netcdf.html#gga069a80546769d282e7bf3ff44ee4aea7a60be11bfc96aca3f79bf94cff4539923">dg::file::nc_clobber</a>);</div>
<div class="line">        <span class="comment">// mkdir subgroup</span></div>
<div class="line">        file.<a class="code hl_function" href="#aa26096f167a6560ab949af57cda72427">def_grp</a>( <span class="stringliteral">&quot;subgrp&quot;</span>);</div>
<div class="line">        <span class="comment">// cd subgroup</span></div>
<div class="line">        file.<a class="code hl_function" href="#a1140a548101026d93c10decd79e18602">set_grp</a>( <span class="stringliteral">&quot;subgrp&quot;</span>);</div>
<div class="line">        <span class="comment">// all subsequent calls will write to subgrp</span></div>
<div class="line">        file.<a class="code hl_function" href="#a32faa7c38409660f29d9955d9e850f1d">put_att</a>( {<span class="stringliteral">&quot;title&quot;</span>, <span class="stringliteral">&quot;This is a subgrp attribute&quot;</span>});</div>
<div class="line">        <span class="keyword">auto</span> path = file.<a class="code hl_function" href="#a324df27278d2b9d1c2078231df76b5c0">get_current_path</a>();</div>
<div class="line">        CHECK( path == <span class="stringliteral">&quot;/subgrp&quot;</span>);</div>
<div class="line">        <span class="comment">// mkdir -p</span></div>
<div class="line">        file.<a class="code hl_function" href="#a32c33999c5a57b6f7cc55c1bb434079c">def_grp_p</a>(<span class="stringliteral">&quot;/subgrp/subgrp2/subgrp3/subgrp4&quot;</span>);</div>
<div class="line">        CHECK( file.<a class="code hl_function" href="#a78f0b5dace4dda55fae1381b86d17a98">grp_is_defined</a>( <span class="stringliteral">&quot;/subgrp/subgrp2/subgrp3&quot;</span>));</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// cd ..</span></div>
<div class="line">        file.<a class="code hl_function" href="#a1140a548101026d93c10decd79e18602">set_grp</a>(<span class="stringliteral">&quot;..&quot;</span>); <span class="comment">// go to parent group</span></div>
<div class="line">        <span class="comment">// cd</span></div>
<div class="line">        file.<a class="code hl_function" href="#a1140a548101026d93c10decd79e18602">set_grp</a>(); <span class="comment">// go to root group</span></div>
<div class="line"> </div>
<div class="line">        <span class="comment">// mv subgrp sub</span></div>
<div class="line">        file.<a class="code hl_function" href="#a2db9d371937c5b08205096bc526663d6">rename_grp</a>( <span class="stringliteral">&quot;subgrp&quot;</span>, <span class="stringliteral">&quot;sub&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// ls</span></div>
<div class="line">        <span class="keyword">auto</span> subgrps = file.<a class="code hl_function" href="#a1d30a3f073d7b2e77d8a6a2c3ebf3060">get_grps</a>();</div>
<div class="line">        <span class="comment">// ls -R</span></div>
<div class="line">        <span class="keyword">auto</span> allgrps = file.<a class="code hl_function" href="#a0440c554cfc1d0842f587ee08f4aec7e">get_grps_r</a>();</div>
<div class="line"> </div>
<div class="line">        file.<a class="code hl_function" href="#adf74467eed8a6b7cfb3ae1c978089f02">close</a>();</div>
</div><!-- fragment -->   <dl class="section note"><dt>Note</dt><dd>Using the vector of paths it is possible to traverse the entire filesystem</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>All groups and subgroups </dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>Does not include the current group    </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a0440c554cfc1d0842f587ee08f4aec7e_cgraph.svg" width="348" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="abd01750cb9f3cc9e46039b57a5be9235" name="abd01750cb9f3cc9e46039b57a5be9235"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd01750cb9f3cc9e46039b57a5be9235">&#9670;&#160;</a></span>get_ncid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int dg::file::MPINcFile::get_ncid </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the <code>ncid</code> of the underlying NetCDF C-API.    </p>
<p>Just if for whatever reason you want to call a NetCDF C-function yourself ... just don't use it for something nasty, like closing the file or whatever    In MPI all ranks get an ncid but only rank 0 can actually use it, except for <code>nc_nowrite</code> when every rank can use it </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_abd01750cb9f3cc9e46039b57a5be9235_cgraph.svg" width="348" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a2f11c3c247b46d326ef7e1ae6248c702" name="a2f11c3c247b46d326ef7e1ae6248c702"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f11c3c247b46d326ef7e1ae6248c702">&#9670;&#160;</a></span>get_unlim_dims()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; dg::file::MPINcFile::get_unlim_dims </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p></p>
<p>Get all visible unlimited dimension names in the current group</p>
<dl class="section note"><dt>Note</dt><dd>Dimensions are <b>visible</b> in a group and all of its subgroups. Now, a file can define multiple dimensions with the same name in subgroups. The dimension in the highest group will then hide the ones in the lower groups and e.g a call to <code>def_var</code> cannot currently use a dimension that is hidden in such a way even though the NetCDF-C API would allow to do it using the dimension ID. In contrast, <code>get_var_dims</code> may return dimension names that are actually hidden. It is therefore highly recommended to use unique names for all dimensions in the file. Furthermore, notice that while a dimension is visible in subgroups, its associated dimension variable is not. </dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>Paraview seems to have issues if dimensions in a subgrup in a NetCDF file are defined before any of the dimensions in the root group.    This function <b>does not</b> include the parent groups </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>All unlimited dimension names in current group.    </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a2f11c3c247b46d326ef7e1ae6248c702_cgraph.svg" width="348" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aef2ca6cf7c593eef4e2095c03746dfa3" name="aef2ca6cf7c593eef4e2095c03746dfa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef2ca6cf7c593eef4e2095c03746dfa3">&#9670;&#160;</a></span>get_var() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ContainerType , typename  = std::enable_if_t&lt;        dg::is_vector_v&lt;ContainerType, dg::SharedVectorTag&gt; or        dg::is_vector_v&lt;ContainerType, dg::MPIVectorTag&gt;&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dg::file::MPINcFile::get_var </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdg_1_1file_1_1_m_p_i_nc_hyperslab.html">MPINcHyperslab</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>slab</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ContainerType &amp;</td>          <td class="paramname"><span class="paramname"><em>data</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read hyperslab <code>slab</code> from variable named <code>name</code> into container <code>data</code>.    </p>
<div class="fragment"><div class="line"><span class="comment">// In MPI all ranks automatically get the right chunk of data</span></div>
<div class="line">file.get_var( <span class="stringliteral">&quot;variable&quot;</span>, grid, data);</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>of previously defined variable </td></tr>
    <tr><td class="paramname">slab</td><td>Hyperslab to read </td></tr>
    <tr><td class="paramname">data</td><td>Result on output (<b>will be resized to fit hyperslab</b>)  </td></tr>
  </table>
  </dd>
</dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">ContainerType</td><td>May be anything that <code>dg::get_tensor_category</code> recognises as a <code>dg::SharedVectorTag</code>. In <code>defput*</code> members the value type determines the NetCDF type of the variable to define </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>In both <code>put*</code> and <code>get*</code> members it is possible for <code>data</code> to have a different value type from the defined value type of the variable that is being written/read, the NetCDF C-API simply converts it to the requested type. For example a variable declared as <code>NC_DOUBLE</code> can be read as/written from integer or float and vice versa.       </dd>
<dd>
The comm in <code><a class="el" href="structdg_1_1file_1_1_m_p_i_nc_hyperslab.html" title="A NetCDF Hyperslab for MPINcFile.">MPINcHyperslab</a></code> must be at least a subgroup of <code><a class="el" href="#afd445ddfb9e0fb0d5db6958d75b74237" title="Return MPI communicator set in constructor.">communicator()</a></code> </dd>
<dd>
The <code>ContainerType</code> in MPI can have either a <code>dg::SharedVectorTag</code> or <code>dg::MPIVectorTag</code> In case it is <code>dg::MPIVectorTag</code> its communicator will be set to <code>slab.communicator()</code> </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_aef2ca6cf7c593eef4e2095c03746dfa3_cgraph.svg" width="587" height="371"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a2eafac9c721518dc969a837358be0540" name="a2eafac9c721518dc969a837358be0540"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2eafac9c721518dc969a837358be0540">&#9670;&#160;</a></span>get_var() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , typename  = std::enable_if_t&lt;dg::is_scalar_v&lt;T&gt;&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dg::file::MPINcFile::get_var </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; size_t &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>start</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T &amp;</td>          <td class="paramname"><span class="paramname"><em>data</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read scalar from position <code>start</code> from variable named <code>name</code>.    </p>
<div class="fragment"><div class="line">file.<a class="code hl_function" href="#aef2ca6cf7c593eef4e2095c03746dfa3">get_var</a>(<span class="stringliteral">&quot;time&quot;</span>, {52}, test);</div>
<div class="line">CHECK( test == 10);</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>of previously defined variable </td></tr>
    <tr><td class="paramname">start</td><td>coordinate to take scalar from (can be empty for scalar variable) </td></tr>
    <tr><td class="paramname">data</td><td>Result on output    </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a2eafac9c721518dc969a837358be0540_cgraph.svg" width="555" height="243"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a0f0423de050f9f2801088ae3682389e2" name="a0f0423de050f9f2801088ae3682389e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f0423de050f9f2801088ae3682389e2">&#9670;&#160;</a></span>get_var_dims()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; dg::file::MPINcFile::get_var_dims </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>name</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the dimension names associated to variable <code>name</code>.    </p>
<div class="fragment"><div class="line">file.<a class="code hl_function" href="#a6c4a2f38be64487507df28292967817d">def_dim</a>(<span class="stringliteral">&quot;time&quot;</span>, NC_UNLIMITED);</div>
<div class="line">file.<a class="code hl_function" href="#a6c4a2f38be64487507df28292967817d">def_dim</a>( <span class="stringliteral">&quot;y&quot;</span>, 57);</div>
<div class="line">file.<a class="code hl_function" href="#a6c4a2f38be64487507df28292967817d">def_dim</a>( <span class="stringliteral">&quot;z&quot;</span>, 12);</div>
<div class="line">file.<a class="code hl_function" href="#a2122c8fb7346d9993f7817977dd1d9c9">def_var_as</a>&lt;<span class="keywordtype">double</span>&gt;(<span class="stringliteral">&quot;variable&quot;</span>, {<span class="stringliteral">&quot;time&quot;</span>, <span class="stringliteral">&quot;z&quot;</span>,<span class="stringliteral">&quot;y&quot;</span>});</div>
<div class="line">CHECK( file.<a class="code hl_function" href="#a0f0423de050f9f2801088ae3682389e2">get_var_dims</a>(<span class="stringliteral">&quot;variable&quot;</span>) == std::vector&lt;std::string&gt;{<span class="stringliteral">&quot;time&quot;</span>, <span class="stringliteral">&quot;z&quot;</span>, <span class="stringliteral">&quot;y&quot;</span>});</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>of the variable </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>list of dimension names associated with variable  </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Dimensions are <b>visible</b> in a group and all of its subgroups. Now, a file can define multiple dimensions with the same name in subgroups. The dimension in the highest group will then hide the ones in the lower groups and e.g a call to <code>def_var</code> cannot currently use a dimension that is hidden in such a way even though the NetCDF-C API would allow to do it using the dimension ID. In contrast, <code>get_var_dims</code> may return dimension names that are actually hidden. It is therefore highly recommended to use unique names for all dimensions in the file. Furthermore, notice that while a dimension is visible in subgroups, its associated dimension variable is not. </dd></dl>
<dl class="section attention"><dt>Attention</dt><dd>Paraview seems to have issues if dimensions in a subgrup in a NetCDF file are defined before any of the dimensions in the root group.       </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a0f0423de050f9f2801088ae3682389e2_cgraph.svg" width="348" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="af0c66bd8f1793acd92f89062e0d5bb9e" name="af0c66bd8f1793acd92f89062e0d5bb9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0c66bd8f1793acd92f89062e0d5bb9e">&#9670;&#160;</a></span>get_var_names()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; std::string &gt; dg::file::MPINcFile::get_var_names </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a list of variable names in the current group.    </p>
<p>We use <code>std::list</code> here because of how easy it is to sort or filter elemenets. For example </p><div class="fragment"><div class="line"><span class="comment">//Get a list of variables with type double</span></div>
<div class="line"><span class="keyword">auto</span> pred = [&amp;file]( std::string name) {</div>
<div class="line">    <span class="keywordflow">return</span> file.<a class="code hl_function" href="#a9122333b28669b274de96c0d3aa98d11">get_var_type</a>(name) != NC_DOUBLE;</div>
<div class="line">};</div>
<div class="line">file.<a class="code hl_function" href="#a1140a548101026d93c10decd79e18602">set_grp</a>(<span class="stringliteral">&quot;subgroup&quot;</span>);</div>
<div class="line"><span class="keyword">auto</span> vars = file.<a class="code hl_function" href="#af0c66bd8f1793acd92f89062e0d5bb9e">get_var_names</a>();</div>
<div class="line">vars.remove_if( pred);</div>
<div class="line">CHECK( vars == std::list&lt;std::string&gt;{<span class="stringliteral">&quot;variable&quot;</span>, <span class="stringliteral">&quot;another&quot;</span>} );</div>
</div><!-- fragment --> <dl class="section return"><dt>Returns</dt><dd>list of variable names in current group    </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_af0c66bd8f1793acd92f89062e0d5bb9e_cgraph.svg" width="348" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a9122333b28669b274de96c0d3aa98d11" name="a9122333b28669b274de96c0d3aa98d11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9122333b28669b274de96c0d3aa98d11">&#9670;&#160;</a></span>get_var_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">nc_type dg::file::MPINcFile::get_var_type </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>name</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p></p>
<p>Get the NetCDF typeid of the variable named <code>name</code> </p><div class="fragment"><div class="line">file.<a class="code hl_function" href="#a2122c8fb7346d9993f7817977dd1d9c9">def_var_as</a>&lt;<span class="keywordtype">double</span>&gt;(   <span class="stringliteral">&quot;variable&quot;</span>, {<span class="stringliteral">&quot;time&quot;</span>});</div>
<div class="line">CHECK( (file.<a class="code hl_function" href="#a9122333b28669b274de96c0d3aa98d11">get_var_type</a>( <span class="stringliteral">&quot;variable&quot;</span>) == NC_DOUBLE ));</div>
</div><!-- fragment -->   <div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a9122333b28669b274de96c0d3aa98d11_cgraph.svg" width="348" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a78f0b5dace4dda55fae1381b86d17a98" name="a78f0b5dace4dda55fae1381b86d17a98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78f0b5dace4dda55fae1381b86d17a98">&#9670;&#160;</a></span>grp_is_defined()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dg::file::MPINcFile::grp_is_defined </td>
          <td>(</td>
          <td class="paramtype">std::filesystem::path</td>          <td class="paramname"><span class="paramname"><em>path</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check for existence of the group given by path.    </p>
<p>Groups can be thought of as directories in a NetCDF-4 file and we therefore use <code>std::filesystem::path</code> and use bash equivalent operations to manipulate them </p><div class="fragment"><div class="line">        <a class="code hl_struct" href="structdg_1_1file_1_1_m_p_i_nc_file.html">dg::file::NcFile</a> file( <span class="stringliteral">&quot;grps.nc&quot;</span>, <a class="code hl_enumvalue" href="group__netcdf.html#gga069a80546769d282e7bf3ff44ee4aea7a60be11bfc96aca3f79bf94cff4539923">dg::file::nc_clobber</a>);</div>
<div class="line">        <span class="comment">// mkdir subgroup</span></div>
<div class="line">        file.<a class="code hl_function" href="#aa26096f167a6560ab949af57cda72427">def_grp</a>( <span class="stringliteral">&quot;subgrp&quot;</span>);</div>
<div class="line">        <span class="comment">// cd subgroup</span></div>
<div class="line">        file.<a class="code hl_function" href="#a1140a548101026d93c10decd79e18602">set_grp</a>( <span class="stringliteral">&quot;subgrp&quot;</span>);</div>
<div class="line">        <span class="comment">// all subsequent calls will write to subgrp</span></div>
<div class="line">        file.<a class="code hl_function" href="#a32faa7c38409660f29d9955d9e850f1d">put_att</a>( {<span class="stringliteral">&quot;title&quot;</span>, <span class="stringliteral">&quot;This is a subgrp attribute&quot;</span>});</div>
<div class="line">        <span class="keyword">auto</span> path = file.<a class="code hl_function" href="#a324df27278d2b9d1c2078231df76b5c0">get_current_path</a>();</div>
<div class="line">        CHECK( path == <span class="stringliteral">&quot;/subgrp&quot;</span>);</div>
<div class="line">        <span class="comment">// mkdir -p</span></div>
<div class="line">        file.<a class="code hl_function" href="#a32c33999c5a57b6f7cc55c1bb434079c">def_grp_p</a>(<span class="stringliteral">&quot;/subgrp/subgrp2/subgrp3/subgrp4&quot;</span>);</div>
<div class="line">        CHECK( file.<a class="code hl_function" href="#a78f0b5dace4dda55fae1381b86d17a98">grp_is_defined</a>( <span class="stringliteral">&quot;/subgrp/subgrp2/subgrp3&quot;</span>));</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// cd ..</span></div>
<div class="line">        file.<a class="code hl_function" href="#a1140a548101026d93c10decd79e18602">set_grp</a>(<span class="stringliteral">&quot;..&quot;</span>); <span class="comment">// go to parent group</span></div>
<div class="line">        <span class="comment">// cd</span></div>
<div class="line">        file.<a class="code hl_function" href="#a1140a548101026d93c10decd79e18602">set_grp</a>(); <span class="comment">// go to root group</span></div>
<div class="line"> </div>
<div class="line">        <span class="comment">// mv subgrp sub</span></div>
<div class="line">        file.<a class="code hl_function" href="#a2db9d371937c5b08205096bc526663d6">rename_grp</a>( <span class="stringliteral">&quot;subgrp&quot;</span>, <span class="stringliteral">&quot;sub&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// ls</span></div>
<div class="line">        <span class="keyword">auto</span> subgrps = file.<a class="code hl_function" href="#a1d30a3f073d7b2e77d8a6a2c3ebf3060">get_grps</a>();</div>
<div class="line">        <span class="comment">// ls -R</span></div>
<div class="line">        <span class="keyword">auto</span> allgrps = file.<a class="code hl_function" href="#a0440c554cfc1d0842f587ee08f4aec7e">get_grps_r</a>();</div>
<div class="line"> </div>
<div class="line">        file.<a class="code hl_function" href="#adf74467eed8a6b7cfb3ae1c978089f02">close</a>();</div>
</div><!-- fragment -->   <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>Absolute or relative path to the current group    </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a78f0b5dace4dda55fae1381b86d17a98_cgraph.svg" width="547" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a78c9eb451aa924539346c1760a83cb8c" name="a78c9eb451aa924539346c1760a83cb8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78c9eb451aa924539346c1760a83cb8c">&#9670;&#160;</a></span>is_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dg::file::MPINcFile::is_open </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p></p>
<p>Check if a file is associated (i.e. it is open) </p><div class="fragment"><div class="line"><a class="code hl_struct" href="structdg_1_1file_1_1_m_p_i_nc_file.html">dg::file::NcFile</a> file;</div>
<div class="line">file.<a class="code hl_function" href="#a3c452dbe16eb43333f2df87af5da7e5e">open</a>(<span class="stringliteral">&quot;test.nc&quot;</span>, <a class="code hl_enumvalue" href="group__netcdf.html#gga069a80546769d282e7bf3ff44ee4aea7acb6819c73ab0466a37a958614672dd0c">dg::file::nc_noclobber</a>);</div>
<div class="line">CHECK( file.<a class="code hl_function" href="#a78c9eb451aa924539346c1760a83cb8c">is_open</a>());</div>
<div class="line">file.<a class="code hl_function" href="#adf74467eed8a6b7cfb3ae1c978089f02">close</a>();</div>
</div><!-- fragment --><p>   All MPI ranks agree if a file is open </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a78c9eb451aa924539346c1760a83cb8c_cgraph.svg" width="348" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a3c452dbe16eb43333f2df87af5da7e5e" name="a3c452dbe16eb43333f2df87af5da7e5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c452dbe16eb43333f2df87af5da7e5e">&#9670;&#160;</a></span>open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dg::file::MPINcFile::open </td>
          <td>(</td>
          <td class="paramtype">const std::filesystem::path &amp;</td>          <td class="paramname"><span class="paramname"><em>filename</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="group__netcdf.html#ga069a80546769d282e7bf3ff44ee4aea7">NcFileMode</a></td>          <td class="paramname"><span class="paramname"><em>mode</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="group__netcdf.html#gga069a80546769d282e7bf3ff44ee4aea7a6e9534c8fd3f871d81a984f0fd0a7f0f">nc_nowrite</a></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p></p>
<p>Explicitly open or create a netCDF file</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>Name or path including the name of the netCDF file to open or create. The path may be either absolute or <b>relative to the execution path of the program</b> i.e. relative to <code>std::filesystem::current_path()</code> </td></tr>
    <tr><td class="paramname">mode</td><td>(see <code>NcFileMode</code> for nc_nowrite, nc_write, nc_clobber, nc_noclobber) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Just like <code>std::fstream</code> opening fails if a file is already associated (<code><a class="el" href="#a78c9eb451aa924539346c1760a83cb8c">is_open()</a></code>) <code><a class="el" href="#adf74467eed8a6b7cfb3ae1c978089f02" title="Explicitly close a file.">close()</a></code> it before opening a new file.</dd></dl>
<div class="fragment"><div class="line"><a class="code hl_struct" href="structdg_1_1file_1_1_m_p_i_nc_file.html">dg::file::NcFile</a> file;</div>
<div class="line">file.<a class="code hl_function" href="#a3c452dbe16eb43333f2df87af5da7e5e">open</a>(<span class="stringliteral">&quot;test.nc&quot;</span>, <a class="code hl_enumvalue" href="group__netcdf.html#gga069a80546769d282e7bf3ff44ee4aea7acb6819c73ab0466a37a958614672dd0c">dg::file::nc_noclobber</a>);</div>
<div class="line">CHECK( file.<a class="code hl_function" href="#a78c9eb451aa924539346c1760a83cb8c">is_open</a>());</div>
<div class="line">file.<a class="code hl_function" href="#adf74467eed8a6b7cfb3ae1c978089f02">close</a>();</div>
</div><!-- fragment -->   <dl class="section note"><dt>Note</dt><dd>if <code> mode == nc_nowrite</code> all ranks in comm open the file and the read member functions involve no communication </dd>
<dd>
May invoke <code>MPI_Barrier</code> so that all ranks see the existence of a possibly new file </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a3c452dbe16eb43333f2df87af5da7e5e_cgraph.svg" width="348" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="acd33dd0c6dc666ee16a72cd4daf3e6f3" name="acd33dd0c6dc666ee16a72cd4daf3e6f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd33dd0c6dc666ee16a72cd4daf3e6f3">&#9670;&#160;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdg_1_1file_1_1_m_p_i_nc_file.html">MPINcFile</a> &amp; dg::file::MPINcFile::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdg_1_1file_1_1_m_p_i_nc_file.html">MPINcFile</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>rhs</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>There can only be exactly one file handle per physical file.       </p>
<p>The reason is that the destructor releases all resources and thus a copy of the file that is subsequently destroyed leaves the original in an invalid state       </p>

</div>
</div>
<a id="aaf5cc0b724e387af846b4aec9f7fd255" name="aaf5cc0b724e387af846b4aec9f7fd255"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf5cc0b724e387af846b4aec9f7fd255">&#9670;&#160;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdg_1_1file_1_1_m_p_i_nc_file.html">MPINcFile</a> &amp; dg::file::MPINcFile::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdg_1_1file_1_1_m_p_i_nc_file.html">MPINcFile</a> &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>rhs</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Swap resources between two file handles.    </p>
<dl class="section note"><dt>Note</dt><dd>The communicator gruops of <code>*this</code> and <code>rhs</code> must the same </dd></dl>

</div>
</div>
<a id="a32faa7c38409660f29d9955d9e850f1d" name="a32faa7c38409660f29d9955d9e850f1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32faa7c38409660f29d9955d9e850f1d">&#9670;&#160;</a></span>put_att() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dg::file::MPINcFile::put_att </td>
          <td>(</td>
          <td class="paramtype">const std::pair&lt; std::string, <a class="el" href="group__netcdf.html#ga73aa8fc2c366b0e640bd483c73910c79">nc_att_t</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>att</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>id</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;&quot;</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Put an individual attribute.    </p>
<div class="fragment"><div class="line">file.<a class="code hl_function" href="#a32faa7c38409660f29d9955d9e850f1d">put_att</a>({<span class="stringliteral">&quot;title&quot;</span>, <span class="stringliteral">&quot;Hello&quot;</span>} );</div>
<div class="line">INFO( <span class="stringliteral">&quot;Silently overwrite existing attribute&quot;</span>);</div>
<div class="line">CHECK_NOTHROW( file.<a class="code hl_function" href="#a32faa7c38409660f29d9955d9e850f1d">put_att</a>({<span class="stringliteral">&quot;title&quot;</span>, <span class="stringliteral">&quot;Hello world&quot;</span>}));</div>
<div class="line">file.<a class="code hl_function" href="#a32faa7c38409660f29d9955d9e850f1d">put_att</a>({<span class="stringliteral">&quot;truth&quot;</span>, 42} );</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">att</td><td>Attribute consisting of name and value </td></tr>
    <tr><td class="paramname">id</td><td>Variable name in the current group or empty string, in which case the attribute refers to the current group  </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Attributes are silently overwritten. You need to manually check with <code>att_is_defined</code> for existence if this is a concern       </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a32faa7c38409660f29d9955d9e850f1d_cgraph.svg" width="348" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a749b8c08b402728dcafa1809e9977006" name="a749b8c08b402728dcafa1809e9977006"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a749b8c08b402728dcafa1809e9977006">&#9670;&#160;</a></span>put_att() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class S , class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dg::file::MPINcFile::put_att </td>
          <td>(</td>
          <td class="paramtype">const std::tuple&lt; S, nc_type, T &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>att</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>id</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;&quot;</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Put an individual attribute of preset type to variable id.    </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">S</td><td>std::string or const char* </td></tr>
    <tr><td class="paramname">T</td><td>Cannot be an nc_att_t </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">att</td><td>Attribute consisting of name, type and value </td></tr>
    <tr><td class="paramname">id</td><td>Variable name in the current group or empty string, in which case the attribute refers to the current group  </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Attributes are silently overwritten. You need to manually check with <code>att_is_defined</code> for existence if this is a concern    <div class="fragment"><div class="line">file.<a class="code hl_function" href="#a32faa7c38409660f29d9955d9e850f1d">put_att</a>( std::tuple{<span class="stringliteral">&quot;half truth&quot;</span>, NC_INT, 21});</div>
<div class="line"><span class="keywordtype">int</span> half = file.<a class="code hl_function" href="#a7435c5d3aa157b5c39fd3ab88c3b1871">get_att_as</a>&lt;<span class="keywordtype">int</span>&gt;( <span class="stringliteral">&quot;half truth&quot;</span>);</div>
<div class="line">CHECK( half == 21);</div>
</div><!-- fragment -->   </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a749b8c08b402728dcafa1809e9977006_cgraph.svg" width="348" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a03ed2b7546bcb152afb0ac395fac604d" name="a03ed2b7546bcb152afb0ac395fac604d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03ed2b7546bcb152afb0ac395fac604d">&#9670;&#160;</a></span>put_atts()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Attributes  = std::map&lt;std::string, nc_att_t&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dg::file::MPINcFile::put_atts </td>
          <td>(</td>
          <td class="paramtype">const Attributes &amp;</td>          <td class="paramname"><span class="paramname"><em>atts</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>id</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;&quot;</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write a collection of attributes to a NetCDF variable or file.    </p>
<p>Example code </p><div class="fragment"><div class="line">std::map&lt;std::string, dg::file::nc_att_t&gt; att;</div>
<div class="line">att[<span class="stringliteral">&quot;text&quot;</span>] = <span class="stringliteral">&quot;Hello World!&quot;</span>;</div>
<div class="line">att[<span class="stringliteral">&quot;number&quot;</span>] = 3e-4;</div>
<div class="line">att[<span class="stringliteral">&quot;int&quot;</span>] = -1;</div>
<div class="line">att[<span class="stringliteral">&quot;uint&quot;</span>] = 10;</div>
<div class="line">att[<span class="stringliteral">&quot;bool&quot;</span>] = <span class="keyword">true</span>;</div>
<div class="line">att[<span class="stringliteral">&quot;realarray&quot;</span>]  = std::vector{-1.1, 42.3};</div>
<div class="line">att[<span class="stringliteral">&quot;realarray&quot;</span>]  = std::vector{-1.1, 42.3};</div>
<div class="line">att[<span class="stringliteral">&quot;realnumber&quot;</span>] = -1.1;</div>
<div class="line">att[<span class="stringliteral">&quot;intarray&quot;</span>]   = std::vector{-11, 423};</div>
<div class="line">att[<span class="stringliteral">&quot;uintarray&quot;</span>]  = std::vector{11, 423};</div>
<div class="line">att[<span class="stringliteral">&quot;boolarray&quot;</span>]  = std::vector{<span class="keyword">true</span>, <span class="keyword">false</span>};</div>
<div class="line">file.<a class="code hl_function" href="#a03ed2b7546bcb152afb0ac395fac604d">put_atts</a>(att);</div>
<div class="line">file.<a class="code hl_function" href="#adf74467eed8a6b7cfb3ae1c978089f02">close</a>();</div>
<div class="line"><span class="keyword">auto</span> mode = GENERATE( <a class="code hl_enumvalue" href="group__netcdf.html#gga069a80546769d282e7bf3ff44ee4aea7a6e9534c8fd3f871d81a984f0fd0a7f0f">dg::file::nc_nowrite</a>, <a class="code hl_enumvalue" href="group__netcdf.html#gga069a80546769d282e7bf3ff44ee4aea7ab26f423495fc49c2566ad28fed7076b5">dg::file::nc_write</a>);</div>
<div class="line">file.<a class="code hl_function" href="#a3c452dbe16eb43333f2df87af5da7e5e">open</a>( <span class="stringliteral">&quot;attributes.nc&quot;</span>, mode);</div>
<div class="line"><span class="keyword">auto</span> read = file.<a class="code hl_function" href="#a1310be2cf0ca0d8828d329d351681b28">get_atts</a>();</div>
<div class="line">CHECK( read == att);</div>
</div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>boolean values are mapped to byte NetCDF attributes (0b for true, 1b for false) </dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Attributes</td><td>Any <code>Iterable</code> whose values can be used in <code>put_att</code> i.e. either a <code>std::pair</code> or <code>std::tuple</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">atts</td><td>An iterable containing all the attributes for the variable or file. <code>atts</code> can be empty in which case no attribute is written. </td></tr>
    <tr><td class="paramname">id</td><td>Variable name in the current group or empty string, in which case the attributes refer to the current group  </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Attributes are silently overwritten. You need to manually check with <code>att_is_defined</code> for existence if this is a concern       </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a03ed2b7546bcb152afb0ac395fac604d_cgraph.svg" width="348" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a491de7aac14cf3f245168c96f54ae06a" name="a491de7aac14cf3f245168c96f54ae06a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a491de7aac14cf3f245168c96f54ae06a">&#9670;&#160;</a></span>put_var() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ContainerType , typename  = std::enable_if_t&lt;        dg::is_vector_v&lt;ContainerType, dg::SharedVectorTag&gt; or        dg::is_vector_v&lt;ContainerType, dg::MPIVectorTag&gt;&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dg::file::MPINcFile::put_var </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdg_1_1file_1_1_m_p_i_nc_hyperslab.html">MPINcHyperslab</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>slab</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ContainerType &amp;</td>          <td class="paramname"><span class="paramname"><em>data</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write data to a variable.    </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name of the variable to write data to. Must be visible in the current group </td></tr>
    <tr><td class="paramname">slab</td><td>Define where the data is written. The dimension of the slab <code>slab.ndim()</code> must match the number of dimensions of the variable </td></tr>
    <tr><td class="paramname">data</td><td>to write. Size must be at least that of the slab  </td></tr>
  </table>
  </dd>
</dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">ContainerType</td><td>May be anything that <code>dg::get_tensor_category</code> recognises as a <code>dg::SharedVectorTag</code>. In <code>defput*</code> members the value type determines the NetCDF type of the variable to define </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>In both <code>put*</code> and <code>get*</code> members it is possible for <code>data</code> to have a different value type from the defined value type of the variable that is being written/read, the NetCDF C-API simply converts it to the requested type. For example a variable declared as <code>NC_DOUBLE</code> can be read as/written from integer or float and vice versa.     </dd></dl>
<dl class="section note"><dt>Note</dt><dd>There are a couple of subtle issues related to <b>unlimited dimensions</b> in NetCDF. First of all, all variables that share a dimension in NetCDF have the same size along that dimension. Second, it is possible to write data to any index (the start value of the hyperslab in the unlimited dimension can be anything) of a variable with an unlimited dimension. For example you can do <div class="fragment"><div class="line">file.def_dim( <span class="stringliteral">&quot;time&quot;</span>, NC_UNLIMITED);</div>
<div class="line">file.def_var_as&lt;<span class="keywordtype">double</span>&gt;( <span class="stringliteral">&quot;var&quot;</span>, {<span class="stringliteral">&quot;time&quot;</span>}, {});</div>
<div class="line">file.put_var( <span class="stringliteral">&quot;var&quot;</span>, {5}, 42); <span class="comment">// perfectly legal</span></div>
</div><!-- fragment --> The size of an unlimited dimension is the maximum of the sizes of all variables that share this dimension. If you are trying to read a variable at a slice where data was never written, the NetCDF library just fills it up with Fill Values. However, trying to read beyond the size of the unlimited dimension will fail. If a user wants to keep all unlimited variables synchronised, they unfortunately have to keep track of which variable was written themselves: See <a href="https://github.com/Unidata/netcdf-c/issues/1898">NetCDF issue</a>   </dd></dl>
<div class="fragment"><div class="line">        <span class="keyword">typename</span> <a class="code hl_struct" href="structdg_1_1file_1_1_m_p_i_nc_hyperslab.html">dg::file::NcFile::Hyperslab</a> slab{grid_out};</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> i=0; i&lt;2; i++)</div>
<div class="line">        {</div>
<div class="line">            INFO(<span class="stringliteral">&quot;Write timestep &quot;</span>&lt;&lt;i&lt;&lt;<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line">            <span class="keywordtype">double</span> time = i*Tmax/2.;</div>
<div class="line">            file.put_var( <span class="stringliteral">&quot;ptime&quot;</span>, {i}, time);</div>
<div class="line">            <span class="keywordflow">for</span>( <span class="keyword">auto</span>&amp; record : records)</div>
<div class="line">            {</div>
<div class="line">                record.function ( result, grid, time);</div>
<div class="line">                dg::apply( project, result, tmp);</div>
<div class="line">                <span class="comment">// Hyperslab can be constructed from hyperslab...</span></div>
<div class="line">                file.put_var( record.name, {i, slab}, tmp);</div>
<div class="line">            }</div>
<div class="line">        }</div>
</div><!-- fragment -->   <dl class="section note"><dt>Note</dt><dd>The <code>ContainerType</code> in MPI can have either a <code>dg::SharedVectorTag</code> or <code>dg::MPIVectorTag</code> (It is the communicator of the slab that counts, the data communicator if present is ignored) </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a491de7aac14cf3f245168c96f54ae06a_cgraph.svg" width="348" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a72de26f9b2da586272580f0cbd1fba0c" name="a72de26f9b2da586272580f0cbd1fba0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72de26f9b2da586272580f0cbd1fba0c">&#9670;&#160;</a></span>put_var() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T , typename  = std::enable_if_t&lt;dg::is_scalar_v&lt;T&gt;&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dg::file::MPINcFile::put_var </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; size_t &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>start</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T</td>          <td class="paramname"><span class="paramname"><em>data</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write a single data point.    </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>Name of the variable to write data to. Must be visible in the current group </td></tr>
    <tr><td class="paramname">start</td><td>The coordinates (one for each dimension) to which to write data to </td></tr>
    <tr><td class="paramname">data</td><td>to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>must be convertible to the datatype of the variable <code>name</code> </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line">file.def_dimvar_as&lt;<span class="keywordtype">double</span>&gt;( <span class="stringliteral">&quot;time&quot;</span>, NC_UNLIMITED, {{<span class="stringliteral">&quot;axis&quot;</span>, <span class="stringliteral">&quot;T&quot;</span>}});</div>
<div class="line">file.def_var_as&lt;<span class="keywordtype">double</span>&gt;( <span class="stringliteral">&quot;Energy&quot;</span>, {<span class="stringliteral">&quot;time&quot;</span>}, {{<span class="stringliteral">&quot;long_name&quot;</span>, <span class="stringliteral">&quot;Energy&quot;</span>}});</div>
<div class="line"><span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> i=0; i&lt;=6; i++)</div>
<div class="line">{</div>
<div class="line">    file.put_var(<span class="stringliteral">&quot;time&quot;</span>, {i}, i);</div>
<div class="line">    <span class="keywordflow">if</span>( i%2 == 0)</div>
<div class="line">        file.put_var( <span class="stringliteral">&quot;Energy&quot;</span>, {i}, i);</div>
<div class="line">}</div>
</div><!-- fragment -->  <dl class="section note"><dt>Note</dt><dd>There are a couple of subtle issues related to <b>unlimited dimensions</b> in NetCDF. First of all, all variables that share a dimension in NetCDF have the same size along that dimension. Second, it is possible to write data to any index (the start value of the hyperslab in the unlimited dimension can be anything) of a variable with an unlimited dimension. For example you can do <div class="fragment"><div class="line">file.def_dim( <span class="stringliteral">&quot;time&quot;</span>, NC_UNLIMITED);</div>
<div class="line">file.def_var_as&lt;<span class="keywordtype">double</span>&gt;( <span class="stringliteral">&quot;var&quot;</span>, {<span class="stringliteral">&quot;time&quot;</span>}, {});</div>
<div class="line">file.put_var( <span class="stringliteral">&quot;var&quot;</span>, {5}, 42); <span class="comment">// perfectly legal</span></div>
</div><!-- fragment --> The size of an unlimited dimension is the maximum of the sizes of all variables that share this dimension. If you are trying to read a variable at a slice where data was never written, the NetCDF library just fills it up with Fill Values. However, trying to read beyond the size of the unlimited dimension will fail. If a user wants to keep all unlimited variables synchronised, they unfortunately have to keep track of which variable was written themselves: See <a href="https://github.com/Unidata/netcdf-c/issues/1898">NetCDF issue</a>       </dd>
<dd>
In MPI only the rank 0 writes data </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a72de26f9b2da586272580f0cbd1fba0c_cgraph.svg" width="555" height="179"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a0b780a69185a832178be980153d89f31" name="a0b780a69185a832178be980153d89f31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b780a69185a832178be980153d89f31">&#9670;&#160;</a></span>rename_att()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dg::file::MPINcFile::rename_att </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>old_att_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>new_att_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>id</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;&quot;</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p></p>
<p>Rename an attribute </p><div class="fragment"><div class="line">file.<a class="code hl_function" href="#a32faa7c38409660f29d9955d9e850f1d">put_att</a>({<span class="stringliteral">&quot;ttt&quot;</span>, 42} );</div>
<div class="line">CHECK( file.<a class="code hl_function" href="#a2768320aa13d39b6ff9c00a0ff54ccc9">att_is_defined</a>( <span class="stringliteral">&quot;ttt&quot;</span>));</div>
<div class="line">file.<a class="code hl_function" href="#a0b780a69185a832178be980153d89f31">rename_att</a>( <span class="stringliteral">&quot;ttt&quot;</span>, <span class="stringliteral">&quot;truth&quot;</span>);</div>
<div class="line">CHECK( not file.<a class="code hl_function" href="#a2768320aa13d39b6ff9c00a0ff54ccc9">att_is_defined</a>( <span class="stringliteral">&quot;ttt&quot;</span>, <span class="stringliteral">&quot;&quot;</span>));</div>
<div class="line">CHECK( file.<a class="code hl_function" href="#a2768320aa13d39b6ff9c00a0ff54ccc9">att_is_defined</a>( <span class="stringliteral">&quot;truth&quot;</span>));</div>
</div><!-- fragment -->   <div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a0b780a69185a832178be980153d89f31_cgraph.svg" width="348" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a5973731ea7aea679e6573ea97012c7ae" name="a5973731ea7aea679e6573ea97012c7ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5973731ea7aea679e6573ea97012c7ae">&#9670;&#160;</a></span>rename_dim()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dg::file::MPINcFile::rename_dim </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>old_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>new_name</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Rename a dimension from <code>old_name</code> to <code>new_name</code>.    </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a5973731ea7aea679e6573ea97012c7ae_cgraph.svg" width="348" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a2db9d371937c5b08205096bc526663d6" name="a2db9d371937c5b08205096bc526663d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2db9d371937c5b08205096bc526663d6">&#9670;&#160;</a></span>rename_grp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dg::file::MPINcFile::rename_grp </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>old_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>new_name</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p></p>
<p>rename a subgroup in the current group from <code>old_name</code> to <code>new_name</code>  </p>
<p>Groups can be thought of as directories in a NetCDF-4 file and we therefore use <code>std::filesystem::path</code> and use bash equivalent operations to manipulate them </p><div class="fragment"><div class="line">        <a class="code hl_struct" href="structdg_1_1file_1_1_m_p_i_nc_file.html">dg::file::NcFile</a> file( <span class="stringliteral">&quot;grps.nc&quot;</span>, <a class="code hl_enumvalue" href="group__netcdf.html#gga069a80546769d282e7bf3ff44ee4aea7a60be11bfc96aca3f79bf94cff4539923">dg::file::nc_clobber</a>);</div>
<div class="line">        <span class="comment">// mkdir subgroup</span></div>
<div class="line">        file.<a class="code hl_function" href="#aa26096f167a6560ab949af57cda72427">def_grp</a>( <span class="stringliteral">&quot;subgrp&quot;</span>);</div>
<div class="line">        <span class="comment">// cd subgroup</span></div>
<div class="line">        file.<a class="code hl_function" href="#a1140a548101026d93c10decd79e18602">set_grp</a>( <span class="stringliteral">&quot;subgrp&quot;</span>);</div>
<div class="line">        <span class="comment">// all subsequent calls will write to subgrp</span></div>
<div class="line">        file.<a class="code hl_function" href="#a32faa7c38409660f29d9955d9e850f1d">put_att</a>( {<span class="stringliteral">&quot;title&quot;</span>, <span class="stringliteral">&quot;This is a subgrp attribute&quot;</span>});</div>
<div class="line">        <span class="keyword">auto</span> path = file.<a class="code hl_function" href="#a324df27278d2b9d1c2078231df76b5c0">get_current_path</a>();</div>
<div class="line">        CHECK( path == <span class="stringliteral">&quot;/subgrp&quot;</span>);</div>
<div class="line">        <span class="comment">// mkdir -p</span></div>
<div class="line">        file.<a class="code hl_function" href="#a32c33999c5a57b6f7cc55c1bb434079c">def_grp_p</a>(<span class="stringliteral">&quot;/subgrp/subgrp2/subgrp3/subgrp4&quot;</span>);</div>
<div class="line">        CHECK( file.<a class="code hl_function" href="#a78f0b5dace4dda55fae1381b86d17a98">grp_is_defined</a>( <span class="stringliteral">&quot;/subgrp/subgrp2/subgrp3&quot;</span>));</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// cd ..</span></div>
<div class="line">        file.<a class="code hl_function" href="#a1140a548101026d93c10decd79e18602">set_grp</a>(<span class="stringliteral">&quot;..&quot;</span>); <span class="comment">// go to parent group</span></div>
<div class="line">        <span class="comment">// cd</span></div>
<div class="line">        file.<a class="code hl_function" href="#a1140a548101026d93c10decd79e18602">set_grp</a>(); <span class="comment">// go to root group</span></div>
<div class="line"> </div>
<div class="line">        <span class="comment">// mv subgrp sub</span></div>
<div class="line">        file.<a class="code hl_function" href="#a2db9d371937c5b08205096bc526663d6">rename_grp</a>( <span class="stringliteral">&quot;subgrp&quot;</span>, <span class="stringliteral">&quot;sub&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// ls</span></div>
<div class="line">        <span class="keyword">auto</span> subgrps = file.<a class="code hl_function" href="#a1d30a3f073d7b2e77d8a6a2c3ebf3060">get_grps</a>();</div>
<div class="line">        <span class="comment">// ls -R</span></div>
<div class="line">        <span class="keyword">auto</span> allgrps = file.<a class="code hl_function" href="#a0440c554cfc1d0842f587ee08f4aec7e">get_grps_r</a>();</div>
<div class="line"> </div>
<div class="line">        file.<a class="code hl_function" href="#adf74467eed8a6b7cfb3ae1c978089f02">close</a>();</div>
</div><!-- fragment -->      <div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a2db9d371937c5b08205096bc526663d6_cgraph.svg" width="348" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a1140a548101026d93c10decd79e18602" name="a1140a548101026d93c10decd79e18602"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1140a548101026d93c10decd79e18602">&#9670;&#160;</a></span>set_grp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dg::file::MPINcFile::set_grp </td>
          <td>(</td>
          <td class="paramtype">std::filesystem::path</td>          <td class="paramname"><span class="paramname"><em>path</em></span><span class="paramdefsep"> = </span><span class="paramdefval">&quot;&quot;</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Change group to <code>path</code>.    </p>
<p>Groups can be thought of as directories in a NetCDF-4 file and we therefore use <code>std::filesystem::path</code> and use bash equivalent operations to manipulate them </p><div class="fragment"><div class="line">        <a class="code hl_struct" href="structdg_1_1file_1_1_m_p_i_nc_file.html">dg::file::NcFile</a> file( <span class="stringliteral">&quot;grps.nc&quot;</span>, <a class="code hl_enumvalue" href="group__netcdf.html#gga069a80546769d282e7bf3ff44ee4aea7a60be11bfc96aca3f79bf94cff4539923">dg::file::nc_clobber</a>);</div>
<div class="line">        <span class="comment">// mkdir subgroup</span></div>
<div class="line">        file.<a class="code hl_function" href="#aa26096f167a6560ab949af57cda72427">def_grp</a>( <span class="stringliteral">&quot;subgrp&quot;</span>);</div>
<div class="line">        <span class="comment">// cd subgroup</span></div>
<div class="line">        file.<a class="code hl_function" href="#a1140a548101026d93c10decd79e18602">set_grp</a>( <span class="stringliteral">&quot;subgrp&quot;</span>);</div>
<div class="line">        <span class="comment">// all subsequent calls will write to subgrp</span></div>
<div class="line">        file.<a class="code hl_function" href="#a32faa7c38409660f29d9955d9e850f1d">put_att</a>( {<span class="stringliteral">&quot;title&quot;</span>, <span class="stringliteral">&quot;This is a subgrp attribute&quot;</span>});</div>
<div class="line">        <span class="keyword">auto</span> path = file.<a class="code hl_function" href="#a324df27278d2b9d1c2078231df76b5c0">get_current_path</a>();</div>
<div class="line">        CHECK( path == <span class="stringliteral">&quot;/subgrp&quot;</span>);</div>
<div class="line">        <span class="comment">// mkdir -p</span></div>
<div class="line">        file.<a class="code hl_function" href="#a32c33999c5a57b6f7cc55c1bb434079c">def_grp_p</a>(<span class="stringliteral">&quot;/subgrp/subgrp2/subgrp3/subgrp4&quot;</span>);</div>
<div class="line">        CHECK( file.<a class="code hl_function" href="#a78f0b5dace4dda55fae1381b86d17a98">grp_is_defined</a>( <span class="stringliteral">&quot;/subgrp/subgrp2/subgrp3&quot;</span>));</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// cd ..</span></div>
<div class="line">        file.<a class="code hl_function" href="#a1140a548101026d93c10decd79e18602">set_grp</a>(<span class="stringliteral">&quot;..&quot;</span>); <span class="comment">// go to parent group</span></div>
<div class="line">        <span class="comment">// cd</span></div>
<div class="line">        file.<a class="code hl_function" href="#a1140a548101026d93c10decd79e18602">set_grp</a>(); <span class="comment">// go to root group</span></div>
<div class="line"> </div>
<div class="line">        <span class="comment">// mv subgrp sub</span></div>
<div class="line">        file.<a class="code hl_function" href="#a2db9d371937c5b08205096bc526663d6">rename_grp</a>( <span class="stringliteral">&quot;subgrp&quot;</span>, <span class="stringliteral">&quot;sub&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// ls</span></div>
<div class="line">        <span class="keyword">auto</span> subgrps = file.<a class="code hl_function" href="#a1d30a3f073d7b2e77d8a6a2c3ebf3060">get_grps</a>();</div>
<div class="line">        <span class="comment">// ls -R</span></div>
<div class="line">        <span class="keyword">auto</span> allgrps = file.<a class="code hl_function" href="#a0440c554cfc1d0842f587ee08f4aec7e">get_grps_r</a>();</div>
<div class="line"> </div>
<div class="line">        file.<a class="code hl_function" href="#adf74467eed8a6b7cfb3ae1c978089f02">close</a>();</div>
</div><!-- fragment --><p>   All subsequent calls to atts, dims and vars are made to that group</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>can be absolute or relative to the current group. Empty string or "/" goes back to root group. "." is the current group and returns immediately.    </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_a1140a548101026d93c10decd79e18602_cgraph.svg" width="547" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ab61252dce45791db59c8a368f64b5354" name="ab61252dce45791db59c8a368f64b5354"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab61252dce45791db59c8a368f64b5354">&#9670;&#160;</a></span>sync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dg::file::MPINcFile::sync </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Call nc_sync.    </p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_ab61252dce45791db59c8a368f64b5354_cgraph.svg" width="348" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aef9a781ba4e8201e07b3ac1114138a60" name="aef9a781ba4e8201e07b3ac1114138a60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef9a781ba4e8201e07b3ac1114138a60">&#9670;&#160;</a></span>var_is_defined()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dg::file::MPINcFile::var_is_defined </td>
          <td>(</td>
          <td class="paramtype">std::string</td>          <td class="paramname"><span class="paramname"><em>name</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p></p>
<p>Check if variable named <code>name</code> is defined in the current group </p><div class="fragment"><div class="line">file.<a class="code hl_function" href="#a2122c8fb7346d9993f7817977dd1d9c9">def_var_as</a>&lt;<span class="keywordtype">int</span>&gt;( <span class="stringliteral">&quot;scalar&quot;</span>, {}, {});</div>
<div class="line">CHECK( file.<a class="code hl_function" href="#aef9a781ba4e8201e07b3ac1114138a60">var_is_defined</a>( <span class="stringliteral">&quot;scalar&quot;</span>));</div>
</div><!-- fragment -->   <div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="structdg_1_1file_1_1_m_p_i_nc_file_aef9a781ba4e8201e07b3ac1114138a60_cgraph.svg" width="348" height="51"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="nc__mpi__file_8h_source.html">nc_mpi_file.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.3-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacedg.html">dg</a></li><li class="navelem"><a class="el" href="namespacedg_1_1file.html">file</a></li><li class="navelem"><a class="el" href="structdg_1_1file_1_1_m_p_i_nc_file.html">MPINcFile</a></li>
    <li class="footer">Generated on Mon Jun 23 2025 12:36:39 for Extension: Json and NetCDF utilities by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
